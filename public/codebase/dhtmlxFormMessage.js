/*
Product Name: dhtmlxSuite 
Version: 5.0 
Edition: Standard 
License: content of this file is covered by GPL. Usage outside GPL terms is prohibited. To obtain Commercial or Enterprise license contact sales@dhtmlx.com
Copyright UAB Dinamenta http://www.dhtmlx.com
*/

function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.dhtmlDragAndDrop=this,this)}function dhtmlxEvent(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)}function dhtmlXForm(t,e,i){this.idef={position:"label-left",labelWidth:"auto",labelHeight:"auto",inputWidth:"auto",inputHeight:"auto",labelAlign:"left",noteWidth:"auto",offsetTop:0,offsetLeft:0,blockOffset:20},this.idef_const={offsetNested:20},this.apos_css={"label-left":"dhxform_item_label_left","label-right":"dhxform_item_label_right","label-top":"dhxform_item_label_top","label-bottom":"dhxform_item_label_bottom",absolute:"dhxform_item_absolute"},this.align_css={left:"dhxform_label_align_left",center:"dhxform_label_align_center",right:"dhxform_label_align_right"};var n=this;this.setSkin=function(t){this.skin=t,this.cont.className="dhxform_obj_"+this.skin,this.cont.style.fontSize="material"==t?"14px":"dhx_terrace"==t?"13px":"12px",this._updateBlocks(),this.forEachItem(function(e){var i=n.getItemType(e);void 0!==n.items[i]&&"function"==typeof n.items[i].setSkin&&n.doWithItem(e,"setSkin",t)})},this.skin=i||window.dhx4.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||window.dhx4.skinDetect("dhx_form")||"material",this.separator=",",this.live_validate=!1,this._type="checkbox",this._rGroup="default",this._idIndex={},this._indexId=[],this.cont="object"==typeof t?t:document.getElementById(t),t._isNestedForm||(this._parentForm=!0,this.cont.style.fontSize="material"==this.skin?"14px":"dhx_terrace"==this.skin?"13px":"12px",this.cont.className="dhxform_obj_"+this.skin,this.setFontSize=function(t){this.cont.style.fontSize=t,this._updateBlocks()},this.getForm=function(){return this},this.cont.onkeypress=function(t){if(t=t||event,13==t.keyCode){var e=t.target||t.srcElement;if(void 0!==e.tagName&&"textarea"==(e.tagName+"").toLowerCase()&&!t.ctrlKey)return;n.callEvent("onEnter",[])}}),this.b_index=null,this.base=[],this._prepare=function(t,e){null==this.b_index?this.b_index=0:this.b_index++;var i=null,n=null;if(null!=e){0>e&&(e=0);for(var o=0,l=0;l<this.cont.childNodes.length;l++)for(var s=0;s<this.cont.childNodes[l].childNodes.length;s++)null==n&&1!=this.cont.childNodes[l].childNodes[s]._isNestedForm&&(o==e&&(i=this.cont.childNodes[l].nextSibling,n=this.cont.childNodes[l].childNodes[s]),o++)}if(this.base[this.b_index]=document.createElement("DIV"),this.base[this.b_index].className="dhxform_base",void 0!==t&&(this.base[this.b_index].style.cssText+=" margin-left:"+t+"px!important;"),null!=i?(this.cont.insertBefore(this.base[this.b_index],i),i=null):this.cont.appendChild(this.base[this.b_index]),null!=n)for(;null!=n;){var d=n;n=n.nextSibling,this.base[this.b_index].appendChild(d),d=null}},this.setSizes=function(){},this._mergeSettings=function(t){var e=-1,i={type:"settings"};for(var n in this.idef)i[n]=this.idef[n];for(var o=0;o<t.length;o++)if(void 0!==t[o]&&"settings"==t[o].type){for(var n in t[o])i[n]=t[o][n];e=o}return t[0>e?t.length:e]=i,t},this._genStr=function(t){for(var e="dhxId_",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=0;t>n;n++)e+=i.charAt(Math.floor(Math.random()*i.length));return e},this.idPrefix="dhxForm_"+this._genStr(12)+"_",this._rId=this._parentForm?this._genStr(12)+"_":t._rId,this.objPull={},this.itemPull={},this._ic=0,this._addItem=function(t,e,i,o,l,s,d){if(this.items[t]._index&&(this.getForm()._indexId.push(e),this.getForm()._idIndex[e]={ind:this.getForm()._indexId.length-1}),t||(t=this._type),"list"==t&&null!=l&&null!=this.itemPull[this.idPrefix+l]&&"function"==typeof this.itemPull[this.idPrefix+l]._addSubListNode)var a=this.itemPull[this.idPrefix+l]._addSubListNode();else if("newcolumn"==t)var a={};else{var r=this.base[this.b_index],h=null;if(void 0===s||isNaN(s)||"list"==t){if("list"==t)for(var u in this.itemPull)u==this.idPrefix+e&&(h=this.itemPull[u].nextSibling,null!=this.itemPull[u]._listBase&&this.itemPull[u]._listBase.length>0&&(h=this.itemPull[u]._listBase[this.itemPull[u]._listBase.length-1]))}else{s=Math.max(parseInt(s),0)+1;for(var c=0;c<this.cont.childNodes.length;c++)for(var m=0;m<this.cont.childNodes[c].childNodes.length;m++)null==h&&1!=this.cont.childNodes[c].childNodes[m]._isNestedForm&&(s--,0==s&&(h=this.cont.childNodes[c].childNodes[m],r=this.cont.childNodes[c]))}var a=document.createElement("DIV");1==d&&null!=h&&(h=h.nextSibling),null!=h?r.insertBefore(a,h):r.appendChild(a)}if(a._idd=e,a._rId=this._rId,void 0!==a.style){void 0===i.offsetLeft&&this.idef.offsetLeft>0&&(i.offsetLeft=this.idef.offsetLeft),void 0===i.offsetTop&&this.idef.offsetTop>0&&(i.offsetTop=this.idef.offsetTop);var _="";void 0!==i.offsetLeft&&(_+=" padding-left:"+i.offsetLeft+"px!important;"),void 0!==i.offsetTop&&(_+=" padding-top:"+i.offsetTop+"px!important;"),a.style.cssText+=_}if("block"==t&&isNaN(i.blockOffset)&&(i.blockOffset=this.idef.blockOffset),"list"==t){void 0===a._ofsNested&&(a._ofsNested=this.idef_const.offsetNested),null!=o&&(a._sId=o);var f=this.items[t].render(a,this.skin);return this.itemPull[this.idPrefix+e]._listObj||(this.itemPull[this.idPrefix+e]._listObj=[]),this.itemPull[this.idPrefix+e]._list||(this.itemPull[this.idPrefix+e]._list=[]),this.itemPull[this.idPrefix+e]._listBase||(this.itemPull[this.idPrefix+e]._listBase=[]),this.itemPull[this.idPrefix+e]._listObj.push(f[0]),this.itemPull[this.idPrefix+e]._list.push(f[1]),this.itemPull[this.idPrefix+e]._listBase.push(a),f[1].checkEvent=function(t){return n.checkEvent(t)},f[1].callEvent=function(t,e){return n.callEvent(t,e)},f[1].getForm=function(){return n.getForm()},f[1]._initObj(this._mergeSettings(i)),a._inBlcok&&(a.className+=" in_block"),f[1]}if("newcolumn"==t)return void this._prepare(i.offset,s);if("label"==t&&0==this._ic++&&(i._isTopmost=!0),i.position=this.apos_css[i.position&&this.apos_css[i.position]?i.position:this.idef.position],a.className=i.position+("string"==typeof i.className?" "+i.className:""),i.labelWidth||(i.labelWidth=this.idef.labelWidth),i.labelHeight||(i.labelHeight=this.idef.labelHeight),void 0!==i.wrap&&(i.wrap=window.dhx4.s2b(i.wrap)),i.labelAlign=this.align_css[i.labelAlign]?this.align_css[i.labelAlign]:this.align_css[this.idef.labelAlign],i.inputWidth=i.width?i.width:i.inputWidth?i.inputWidth:this.idef.inputWidth,i.inputHeight||(i.inputHeight=this.idef.inputHeight),void 0!==i.note&&(null!=i.note.length&&null!=i.note[0]&&(i.note=i.note[0]),void 0===i.note.width&&(i.note.width=this.idef.noteWidth),"auto"==i.note.width&&(i.note.width=i.inputWidth)),a.checkEvent=function(t){return n.checkEvent(t)},a.callEvent=function(t,e){return n.callEvent(t,e)},a.getForm=function(){return n.getForm()},a._autoCheck=function(t){n._autoCheck(t)},"string"==typeof i.readonly&&(i.readonly=window.dhx4.s2b(i.readonly)),"string"==typeof i.autoStart&&(i.autoStart=window.dhx4.s2b(i.autoStart)),"string"==typeof i.autoRemove&&(i.autoRemove=window.dhx4.s2b(i.autoRemove)),"string"==typeof i.titleScreen&&(i.titleScreen=window.dhx4.s2b(i.titleScreen)),"string"==typeof i.info&&(i.info=window.dhx4.s2b(i.info)),"string"==typeof i.hidden&&(i.hidden=window.dhx4.s2b(i.hidden)),"string"==typeof i.checked&&(i.checked=window.dhx4.s2b(i.checked)),void 0!==i.userdata)for(var u in i.userdata)this.getForm().setUserData(e,u,i.userdata[u]);if(i.validate&&(a._validate="function"==typeof i.validate||"function"==typeof window[i.validate]?[i.validate]:(i.validate+"").split(this.separator)),void 0!==i.required&&("string"==typeof i.required&&(i.required=window.dhx4.s2b(i.required)),a._required=1==i.required),a._required){a._validate||(a._validate=[]);var p=!1;for(m=0;m<a._validate.length;m++)p=p||"NotEmpty"==a._validate[m];p||a._validate.push("NotEmpty")}a._ll=i.position==this.apos_css["label-left"]||i.position==this.apos_css["label-top"],this.objPull[this.idPrefix+e]=this.items[t].render(a,i),this.itemPull[this.idPrefix+e]=a},this._initObj=function(t,e){if(void 0!==t.data){var i=null;return void 0!==e&&(i=e.match(/(\?|\&)id\=([a-z0-9_\-]*)/i),null!=i&&null!=i[0]&&(i=i[0].split("=")[1])),void(this.callEvent("onBeforeDataLoad",[i,window.dhx4._copyObj(t.data)])===!0&&(this.formId=i,this._last_load_data=t,this.setFormData(t.data),this.resetDataProcessor("updated")))}this._prepare();for(var n=0;n<t.length;n++)if(void 0!==t[n]&&"settings"==t[n].type)for(var o in t[n])this.idef[o]=t[n][o];for(var n=0;n<t.length;n++)this._prepareItem(t[n]);this._autoCheck()},this._prepareItem=function(t,e,i){var n=null!=t&&null!=t.type?t.type:"";if(this.items[n]){t.name||(t.name=this._genStr(12));var o=t.name;(null!=this.objPull[this.idPrefix+o]||"radio"==n)&&(o=this._genStr(12));var l=t;l.label=l.label||"",l.value=l.value,l.checked=window.dhx4.s2b(l.checked),l.disabled=window.dhx4.s2b(l.disabled),l.name=l.name||this._genStr(12),l.options=l.options||[],l.rows=l.rows||"none",l.uid=this._genStr(12),this._addItem(n,o,l,null,null,e,i),e=null,this._parentEnabled===!1&&this._disableItem(o);for(var s=0;s<l.options.length;s++)if(null!=l.options[s].list){l.options[s].value||(l.options[s].value=this._genStr());var d=this._addItem("list",o,l.options[s].list,l.options[s].value,null);d._subSelect=!0,d._subSelectId=l.options[s].value}if(null!=t.list){t.listParent||(t.listParent=l.name);var d=this._addItem("list",o,t.list,null,t.listParent)}}},this._xmlSubItems={item:"list",option:"options",note:"note",userdata:"_userdata"},this._xmlToObject=function(t,e){if(void 0===e&&(e=!0),e){var i=t.getElementsByTagName("items");i=null!=i&&null!=i[0]?i[0]:null;var n=t.getElementsByTagName("data");n=null!=n&&null!=n[0]?n[0]:null}else i=t;var o=e?[]:{};if(null!=i)for(var l=0;l<i.childNodes.length;l++)if(void 0!==i.childNodes[l].tagName){var s=i.childNodes[l].tagName;if(null!=this._xmlSubItems[s]){var d=this._xmlSubItems[s];void 0===o[d]&&(o[d]=[]);for(var a=i.childNodes[l],r={},h=0;h<a.attributes.length;h++){var u=a.attributes[h].name,c=a.attributes[h].value;r[u]=c}"note"==d&&(r.text=a.firstChild.nodeValue),"_userdata"==d&&(r.value=null!=a.firstChild&&null!=a.firstChild.nodeValue?a.firstChild.nodeValue:"");var m=this._xmlToObject(a,!1);for(var _ in m)if("_userdata"==_){r.userdata||(r.userdata={});for(var h=0;h<m[_].length;h++)r.userdata[m[_][h].name]=m[_][h].value}else r[_]=m[_];a=null,e?o.push(r):o[d].push(r)}}if(null!=n){o={data:{}};for(var l=0;l<n.childNodes.length;l++)if(void 0!==n.childNodes[l].tagName){var f=n.childNodes[l].tagName,p=null!=n.childNodes[l].firstChild?n.childNodes[l].firstChild.nodeValue:"";o.data[f]=p}}return o},this._autoCheck=function(t){this._locked===!0?t=!1:void 0===t&&(t=!0);for(var e in this.itemPull){var i=t&&this.itemPull[e]._udis!==!0;this[i?"_enableItem":"_disableItem"](this.itemPull[e]._idd),null!=this.getForm()._idIndex[this.itemPull[e]._idd]&&(this.getForm()._idIndex[this.itemPull[e]._idd].enabled=i);var n=i&&("boolean"==typeof this.itemPull[e]._checked?this.itemPull[e]._checked:!0);if(this.itemPull[e]._list)for(var o=0;o<this.itemPull[e]._list.length;o++){var l=!0;if(1==this.itemPull[e]._list[o]._subSelect){l=!1;var s=this.getItemValue(this.itemPull[e]._idd);("object"!=typeof s||"number"!=typeof s.length)&&(s=[s]);for(var d=0;d<s.length;d++)l=s[d]==this.itemPull[e]._list[o]._subSelectId||l;this.itemPull[e]._listObj[o][l?"show":"hide"](this.itemPull[e]._listBase[o])}this.itemPull[e]._list[o]._autoCheck(n&&l)}}},this.doWithItem=function(t,e,i,n,o,l){if("object"!=typeof t){if(this.itemPull[this.idPrefix+t])return this.objPull[this.idPrefix+t][e](this.itemPull[this.idPrefix+t],i,n,o,l);var s=null;for(var d in this.itemPull)if(this.itemPull[d]._list&&!s)for(var a=0;a<this.itemPull[d]._list.length;a++)null==s&&(s=this.itemPull[d]._list[a].doWithItem(t,e,i,n,o,l));return s}var r=t[0],h=t[1],s=null;for(var d in this.itemPull){if((this.itemPull[d]._value==h||null===h)&&this.itemPull[d]._group==r)return this.objPull[d][e](this.itemPull[d],i,n,o,l);if(null!=this.itemPull[d]._list&&!s)for(var a=0;a<this.itemPull[d]._list.length;a++)s=this.itemPull[d]._list[a].doWithItem(t,e,i,n,o)}return null!=s?s:"getType"==e?this.doWithItem(t[0],"getType"):void 0},this._removeItem=function(t,e){null!=e?t=this.doWithItem([t,e],"destruct"):this.doWithItem(t,"destruct"),this._clearItemData(t)},this._clearItemData=function(t){if(this.itemPull[this.idPrefix+t]){t=this.idPrefix+t;try{this.objPull[t]=null,this.itemPull[t]=null,delete this.objPull[t],delete this.itemPull[t]}catch(e){}}else for(var i in this.itemPull)if(this.itemPull[i]._list)for(var n=0;n<this.itemPull[i]._list.length;n++)this.itemPull[i]._list[n]._clearItemData(t)},this.isItem=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isExist")},this.getItemType=function(t,e){return t=[t,e||null],this.doWithItem(t,"getType")},this.forEachItem=function(t){for(var e in this.objPull)if("radio"==this.objPull[e].t?t(this.itemPull[e]._group,this.itemPull[e]._value):t((e+"").replace(this.idPrefix,"")),this.itemPull[e]._list)for(var i=0;i<this.itemPull[e]._list.length;i++)this.itemPull[e]._list[i].forEachItem(t)},this.setItemLabel=function(t,e,i){null!=i?t=[t,e]:i=e,this.doWithItem(t,"setText",i)},this.getItemLabel=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"getText")},this._enableItem=function(t){this.doWithItem(t,"enable")},this._disableItem=function(t){this.doWithItem(t,"disable")},this._isItemEnabled=function(t){return this.doWithItem(t,"isEnabled")},this.checkItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"check"),this._autoCheck()},this.uncheckItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"unCheck"),this._autoCheck()},this.isItemChecked=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isChecked")},this.getCheckedValue=function(t){return this.doWithItem([t,null],"getChecked")},this._getRGroup=function(t,e){for(var i in this.itemPull){if(this.itemPull[i]._group==t&&(null==e||this.itemPull[i]._value==e))return this.itemPull[i]._idd;if(null!=this.itemPull[i]._list)for(var n=0;n<this.itemPull[i]._list.length;n++){var o=this.itemPull[i]._list[n]._getRGroup(t,e);if(null!=o)return o}}return null},this.setItemValue=function(t,e){return this.resetValidateCss(t,e),"radio"==this.getItemType(t)?(null!=this._getRGroup(t,e)?this.checkItem(t,e):this.uncheckItem(t,this.getCheckedValue(t)),null):this.doWithItem(t,"setValue",e)},this.getItemValue=function(t,e){return"radio"==this.getItemType(t)?this.getCheckedValue(t):this.doWithItem(t,"getValue",e)},this.updateValues=function(){this._updateValues()},this.showItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"show")},this.hideItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"hide")},this.isItemHidden=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isHidden")},this.getOptions=function(t){return this.doWithItem(t,"getOptions")},this.setItemWidth=function(t,e){this.doWithItem(t,"setWidth",e)},this.getItemWidth=function(t){return this.doWithItem(t,"getWidth")},this.setItemHeight=function(t,e){this.doWithItem(t,"setHeight",e)},this.setItemFocus=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"setFocus")},this._updateValues=function(){for(var t in this.itemPull)if(this.objPull[t]&&"function"==typeof this.objPull[t].updateValue&&this.objPull[t].updateValue(this.itemPull[t]),this.itemPull[t]._list)for(var e=0;e<this.itemPull[t]._list.length;e++)this.itemPull[t]._list[e]._updateValues()},this._getItemByName=function(t){for(var e in this.itemPull){if(this.itemPull[e]._idd==t)return this.itemPull[e];if(null!=this.itemPull[e]._list)for(var i=0;i<this.itemPull[e]._list.length;i++){var n=this.itemPull[e]._list[i]._getItemByName(t);if(null!=n)return n}}return null},this._resetValidateCss=function(t){t.className=t.className.replace(t._vcss,""),t._vcss=null},this.setValidateCss=function(t,e,i){var n=this._getItemByName(t);n&&(null!=n._vcss&&this._resetValidateCss(n),n._vcss="string"==typeof i?i:"validate_"+(e===!0?"ok":"error"),n.className+=" "+n._vcss)},this.resetValidateCss=function(){for(var t in this.itemPull)if(null!=this.itemPull[t]._vcss&&this._resetValidateCss(this.itemPull[t]),null!=this.itemPull[t]._list)for(var e=0;e<this.itemPull[t]._list.length;e++)this.itemPull[t]._list[e].resetValidateCss()},this._validateLoop=function(t){for(var e in this.objPull)if(t((e+"").replace(this.idPrefix,"")),this.itemPull[e]._list)for(var i=0;i<this.itemPull[e]._list.length;i++)this.itemPull[e]._list[i]._validateLoop(t)},this.validate=function(){if(0!=this.callEvent("onBeforeValidate",[])){var t=!0;return this._validateLoop(function(e){var i=n.doWithItem(e,"_validate");"boolean"!=typeof i&&(i=!0),t=i&&t},!0),this.callEvent("onAfterValidate",[t]),t}},this.validateItem=function(t,e){return void 0!==e&&(t=[t,e]),this.doWithItem(t,"_validate")},this.enableLiveValidation=function(t){this.live_validate=1==t},this.setReadonly=function(t,e){this.doWithItem(t,"setReadonly",e)},this.isReadonly=function(t){return this.doWithItem(t,"isReadonly")},this.getFirstActive=function(t){for(var e=0;e<this._indexId.length;e++){var i=!0;if(1==t){var n=this.getItemType(this._indexId[e]);dhtmlXForm.prototype.items[n].setFocus||(i=!1)}if(i&&this._idIndex[this._indexId[e]].enabled)return this._indexId[e]}return null},this.setFocusOnFirstActive=function(){var t=this.getFirstActive(!0);null!=t&&this.setItemFocus(t)},this.enableItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"userEnable"),this._autoCheck()},this.disableItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"userDisable"),this._autoCheck()},this.isItemEnabled=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isUserEnabled")},this.clear=function(){var t={};this.formId=(new Date).valueOf(),this.resetDataProcessor("inserted");for(var e in this.itemPull){var i=this.itemPull[e]._idd;if("ch"==this.itemPull[e]._type&&this.uncheckItem(i),this.itemPull[e]._type in{ta:1,editor:1,calendar:1,pw:1,hd:1}&&this.setItemValue(i,""),"combo"==this.itemPull[e]._type){this.itemPull[e]._apiChange=!0;var n=this.getCombo(i);n.selectOption(0),n=null,this.itemPull[e]._apiChange=!1}if("se"==this.itemPull[e]._type){var o=this.getOptions(i);o.length>0&&(o[0].selected=!0)}if("ra"==this.itemPull[e]._type){var l=this.itemPull[e]._group;t[l]||(this.checkItem(l,this.doWithItem(i,"_getFirstValue")),t[l]=!0)}if(this.itemPull[e]._list)for(var s=0;s<this.itemPull[e]._list.length;s++)this.itemPull[e]._list[s].clear();this["setFormData_"+this.itemPull[e]._type]&&this["setFormData_"+this.itemPull[e]._type](i,"")}t=null,this._parentForm&&this._autoCheck(),this.resetValidateCss()},this.unload=function(){window.dhx4._enableDataLoading(this,null,null,null,"clear"),window.dhx4._eventable(this,"clear");for(var t in this.objPull)this._removeItem((t+"").replace(this.idPrefix,""));this._ccTm&&window.clearTimeout(this._ccTm),this._formLS=null;for(var e=0;e<this.base.length;e++){for(;this.base[e].childNodes.length>0;)this.base[e].removeChild(this.base[e].childNodes[0]);this.base[e].parentNode&&this.base[e].parentNode.removeChild(this.base[e]),this.base[e]=null}this.base=null,this.cont.onkeypress=null,this.cont.className="",this.cont=null;for(var t in this)this[t]=null;n=null};for(var o in this.items)this.items[o].t=o,void 0===this.items[o]._index&&(this.items[o]._index=!0),this.items[o].show||(this.items[o].show=function(t){if(t.style.display="",t._listObj)for(var e=0;e<t._listObj.length;e++)t._listObj[e].show(t._listBase[e])}),this.items[o].hide||(this.items[o].hide=function(t){if(t.style.display="none",t._listObj)for(var e=0;e<t._listObj.length;e++)t._listObj[e].hide(t._listBase[e])}),this.items[o].isHidden||(this.items[o].isHidden=function(t){return"none"==t.style.display}),this.items[o].userEnable||(this.items[o].userEnable=function(t){t._udis=!1}),this.items[o].userDisable||(this.items[o].userDisable=function(t){t._udis=!0}),this.items[o].isUserEnabled||(this.items[o].isUserEnabled=function(t){return t._udis!==!0}),this.items[o].getType||(this.items[o].getType=function(){return this.t}),this.items[o].isExist||(this.items[o].isExist=function(){return!0}),this.items[o]._validate||(this.items[o]._validate=function(t){if(!t._validate||!t._enabled)return!0;if("ch"==t._type||"ra"==t._type){var e=this.isChecked(t)?this.getValue(t):0;"ra"==t._type&&void 0===e&&(e=0)}else var e=this.getValue(t);for(var i=!0,n=0;n<t._validate.length;n++){var o="is"+t._validate[n];if(null!=e&&0!=e.length||"isNotEmpty"==o||"container"==t._type){var l=dhtmlxValidation[o];"container"==t._type&&"function"==typeof l&&(l=function(){return!0}),"function"!=typeof l&&"function"==typeof t._validate[n]&&(l=t._validate[n]),"function"!=typeof l&&"function"==typeof window[t._validate[n]]&&(l=window[t._validate[n]]),i=("function"==typeof l?l(e,t._idd):RegExp(t._validate[n]).test(e))&&i,l=null}else;}return t.callEvent("onValidate"+(i?"Success":"Error"),[t._idd,e,i])!==!1&&t.getForm().setValidateCss(t._idd,i),i});return this._locked=!1,this._doLock=function(t){var e=t===!0?!0:!1;this._locked!=e&&(this._locked=e,this._autoCheck(!this._locked))},this.lock=function(){this._doLock(!0)},this.unlock=function(){this._doLock(!1)},this.isLocked=function(){return this._locked},this.setNumberFormat=function(t,e,i,n){return this.doWithItem(t,"setNumberFormat",e,i,n)},window.dhx4._enableDataLoading(this,"_initObj","_xmlToObject","items",{struct:!0,data:!0}),window.dhx4._eventable(this),this.attachEvent("_onButtonClick",function(t,e){this.callEvent("onButtonClick",[t,e])}),this._updateBlocks=function(){this.forEachItem(function(t){("block"==n.getItemType(t)||"combo"==n.getItemType(t))&&n.doWithItem(t,"_setCss",n.skin,n.cont.style.fontSize)})},this._isObj=function(t){return null!=t&&"object"==typeof t&&void 0===t.length},this._copyObj=function(t){if(this._isObj(t)){var e={};for(var i in t)e[i]="object"==typeof t[i]&&null!=t[i]?this._copyObj(t[i]):t[i]}else for(var e=[],i=0;i<t.length;i++)e[i]="object"==typeof t[i]&&null!=t[i]?this._copyObj(t[i]):t[i];return e},null!=e&&"object"==typeof e&&this._initObj(this._copyObj(e)),this._parentForm&&this._updateBlocks(),this._ccActive=!1,this._ccTm=null,this}function dhtmlXFileUploader(t,e,i,n,o,l,s,d,a){var r=this;if("string"==typeof n&&"function"==typeof this[n])this.engine=n;else{this.engine="html4";var h=null;if(void 0!==window.FormData&&void 0!==window.XMLHttpRequest&&(h=new XMLHttpRequest,void 0===h.upload&&(h=null)),null!=h)this.engine="html5";else if(void 0!==window.swfobject||h===!1){var h=swfobject.getFlashPlayerVersion();h.major<10||(this.engine="flash")}else this._sl_v=this.getSLVersion(),this._sl_v&&(this.engine="sl");h=null}"string"==typeof t&&(t=document.getElementById(t)),this._upload_mp=void 0!==a?1==a:!0,this._upload_dnd=!0,this._swf_file_url=e||"",this._swf_upolad_url=i||"",this._swf_logs=o,this._sl_xap=l,this._sl_upload_url=s,this._sl_logs=d,this.p=document.createElement("DIV"),this.p.className+=" dhx_file_uploader",t.appendChild(this.p),this.p_files=document.createElement("DIV"),this.p_files.className="dhx_upload_files",this.p.appendChild(this.p_files),this.p_controls=document.createElement("DIV"),this.p_controls.className="dhx_upload_controls",this.p.appendChild(this.p_controls),this._files={},this._items={},this._data={},this._autoStart=!1,this._autoRemove=!1,this._titleScreen=!0,this._enabled=!0,this._uploaded_count=0,this._initToolbar=function(){this.b_opts={info:{onclick:null},browse:{onclick:null,tooltip:"Browse"},upload:{onclick:function(){r._enabled&&(r._uploading||r._uploadStart())},tooltip:"Upload"},cancel:{onclick:function(){r._enabled&&(r._uploadStop(),r._switchButton(!1))},tooltip:"Stop"},clear:{onclick:function(){r._enabled&&r.clear()},tooltip:"Clear list"}},this.buttons={};for(var t in this.b_opts){var e=document.createElement("DIV");e.innerHTML="&nbsp;",e.className="dhx_file_uploader_button button_"+t,e.onclick=this.b_opts[t].onclick,this.b_opts[t].tooltip&&(e.title=this.b_opts[t].tooltip),this.p_controls.appendChild(e),this.buttons[t]=e,e=null}this.buttons.cancel.style.display="none"},this._readableSize=function(t){for(var e=!1,i=["b","Kb","Mb","Gb","Tb","Pb","Eb"],n=0;n<i.length;n++)t>1024?t/=1024:e===!1&&(e=n);return e===!1&&(e=i.length-1),Math.round(100*t)/100+" "+i[e]},this._beforeAddFileToList=function(t,e){return this.callEvent("onBeforeFileAdd",[t,e])===!0},this._addFileToList=function(t,e,i,n,o){this._checkTitleScreen();var l=document.createElement("DIV");l._idd=t,l.className="dhx_file dhx_file_"+n,l.innerHTML="<div class='dhx_file_param dhx_file_name'>&nbsp;</div><div class='dhx_file_param dhx_file_progress'>"+o+"%</div><div class='dhx_file_param dhx_file_delete' title='Remove from list'>&nbsp;</div>",this.p_files.appendChild(l),l.childNodes[0].style.width=l.offsetWidth-127+"px",this._items[t]=l,this._updateFileNameSize(t),l.childNodes[2].onclick=function(){if(r._enabled){var t=this.parentNode._idd;r._removeFileFromQueue(t)}},this.callEvent("onFileAdd",[e])},this._removeFileFromList=function(t){this._items[t]&&(this._items[t].childNodes[2].onclick=null,this._items[t].parentNode.removeChild(this._items[t]),this._items[t]=null,delete this._items[t],this._data[t]&&(this._data[t]=null,delete this._data[t]),this._checkTitleScreen())},this._updateFileNameSize=function(t){this._items[t].childNodes[0].innerHTML=this._files[t].name+(isNaN(this._files[t].size)?"&nbsp;":" ("+this._readableSize(this._files[t].size)+")"),this._items[t].childNodes[0].title=this._files[t].name+(isNaN(this._files[t].size)?"":" ("+this._readableSize(this._files[t].size)+")")},this._updateFileInList=function(t,e,i){this._items[t]&&(this._items[t].className="dhx_file dhx_file_"+e,this._updateProgress(t,e,i),this._updateFileNameSize(t))},this._updateProgress=function(t,e,i){"uploading"==e&&100>i&&"loader"==this._progress_type?(this._items[t].childNodes[1].className="dhx_file_param dhx_file_uploading",this._items[t].childNodes[1].innerHTML="&nbsp;"):(this._items[t].childNodes[1].className="dhx_file_param dhx_file_progress",this._items[t].childNodes[1].innerHTML=i+"%"),this._updateFileNameSize(t)},this._removeFilesByState=function(t){for(var e in this._files)(t===!0||this._files[e].state==t)&&this._removeFileFromQueue(e)},this._switchButton=function(t){if(1==t)this.buttons.upload.style.display="none",this.buttons.cancel.style.display="";else{var e=this._uploaded_count;this.buttons.upload.style.display="",this.buttons.cancel.style.display="none",this._uploaded_count=0,e>0&&this.callEvent("onUploadComplete",[e])}},this._uploadStart=function(){if(this._switchButton(!0),!this._uploading)for(var t in this._files)"fail"==this._files[t].state&&(this._files[t].state="added",this._updateFileInList(t,"added",0));this._uploading=!0;var e=!1;for(var t in this._files)e||"added"!=[this._files[t].state]||(e=!0,this._files[t].state="uploading",this._updateFileInList(t,"uploading",0),this._doUploadFile(t));e||(this._uploading=!1,this._switchButton(!1))},this._onUploadSuccess=function(t,e,i,n){if(void 0!==i&&"flash"==this.engine){var o=dhx4.s2j(i.data);if(null==o||1!=o.state||null==o.name)return void this._onUploadFail(t,null!=o&&null!=o.extra?o.extra:null);e=o.name,null!=o.extra&&(n=o.extra)}this._uploaded_count++,this._data[t]={realName:this._files[t].name,serverName:e},this._files[t].state="uploaded",this._updateFileInList(t,"uploaded",100),this.callEvent("onUploadFile",[this._files[t].name,e,n]),this._autoRemove&&this._removeFileFromQueue(t),this._uploading&&this._uploadStart()},this._onUploadFail=function(t,e){this._files[t].state="fail",this._updateFileInList(t,"fail",0),this.callEvent("onUploadFail",[this._files[t].name,e]),this._uploading&&this._uploadStart()},this._onUploadAbort=function(t){this._uploading=!1,this._files[t].state="added",this._updateFileInList(t,"added",0),this.callEvent("onUploadCancel",[this._files[t].name])},this._checkTitleScreen=function(){var t=0;for(var e in this._files)t++;0==t&&this.p.className.search("dhx_file_uploader_title")<0&&this._titleScreen&&(this.p.className+=" dhx_file_uploader_title",this.buttons.info.innerHTML=this._titleText,this.buttons.info.style.width=Math.max(this.p_controls.offsetWidth-134,0)+"px"),0>=t&&this._titleScreen||this.p.className.search("dhx_file_uploader_title")<0||(this.p.className=this.p.className.replace(/dhx_file_uploader_title/g,""),this.buttons.info.innerHTML="")},this.callEvent=function(){},this.upload=function(){this._uploading||this._uploadStart()},this.setAutoStart=function(t){this._autoStart=1==t},this.setAutoRemove=function(t){this._autoRemove=1==t},this.enableTitleScreen=function(t){this._titleScreen=1==t,this._checkTitleScreen()},this.setTitleText=function(t){this._titleText=t,this.p.className.search("dhx_file_uploader_title")<0||(this.buttons.info.innerHTML=this._titleText)},this.setURL=function(t){this._url=t},this.setSWFURL=function(t){this._swf_upolad_url=t},this.enable=function(){this._enabled=!0,this.p_files.className="dhx_upload_files",this.p_controls.className="dhx_upload_controls"},this.disable=function(){this._enabled=!1,this.p_files.className="dhx_upload_files dhx_uploader_dis",this.p_controls.className="dhx_upload_controls dhx_uploader_dis"},this.getStatus=function(){var t=0;for(var e in this._files){if("uploaded"!=this._files[e].state)return-1;t=1}return t},this.getData=function(){return this._data},this.clear=function(){this.callEvent("onBeforeClear",[])===!0&&(this._uploading&&r._uploadStop(),r._switchButton(!1),r._removeFilesByState(!0),this.callEvent("onClear",[]))},this.unload=function(){this._removeFilesByState(!0),this._data=null,this._files=null,this._items=null,this._unloadEngine();for(var t in this.buttons)this.buttons[t].onclick=null,this.buttons[t].parentNode.removeChild(this.buttons[t]),this.buttons[t]=null,delete this.buttons[t];this.buttons=null;for(var t in this.b_opts)this.b_opts[t].onclick=null,this.b_opts[t]=null,delete this.b_opts[t];this.b_opts=null,this.p_controls.parentNode.removeChild(this.p_controls),this.p_files.parentNode.removeChild(this.p_files),this.p.className=this.p.className.replace(/dhx_file_uploader_title/gi,"").replace(/dhx_file_uploader/gi,"");for(var t in this)this[t]=null;r=t=null};var u=new this[this.engine];for(var c in u)this[c]=u[c],u[c]=null;return c=u=t=null,this._initToolbar(),this._initEngine(),this._checkTitleScreen(),this}void 0===window.dhx&&(window.dhx=window.dhx4={version:"5.0",skin:null,skinDetect:function(t){return{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace",40:"material"}[this.readFromCss(t+"_skin_detect")]||null},readFromCss:function(t,e,i){var n=document.createElement("DIV");n.className=t,null!=document.body.firstChild?document.body.insertBefore(n,document.body.firstChild):document.body.appendChild(n),"string"==typeof i&&(n.innerHTML=i);var o=n[e||"offsetWidth"];return n.parentNode.removeChild(n),n=null,o},lastId:1,newId:function(){return this.lastId++},zim:{data:{},step:5,first:function(){return 100},last:function(){var t=this.first();for(var e in this.data)t=Math.max(t,this.data[e]);return t},reserve:function(t){return this.data[t]=this.last()+this.step,this.data[t]},clear:function(t){null!=this.data[t]&&(this.data[t]=null,delete this.data[t])}},s2b:function(t){return"string"==typeof t&&(t=t.toLowerCase()),1==t||1==t||"true"==t||"1"==t||"yes"==t||"y"==t||"on"==t},s2j:function(s){var obj=null;dhx4.temp=null;try{eval("dhx4.temp="+s)}catch(e){dhx4.temp=null}return obj=dhx4.temp,dhx4.temp=null,obj},absLeft:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.getOffset(t).left},absTop:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.getOffset(t).top},_aOfs:function(t){for(var e=0,i=0;t;)e+=parseInt(t.offsetTop),i+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:e,left:i}},_aOfsRect:function(t){var e=t.getBoundingClientRect(),i=document.body,n=document.documentElement,o=window.pageYOffset||n.scrollTop||i.scrollTop,l=window.pageXOffset||n.scrollLeft||i.scrollLeft,s=n.clientTop||i.clientTop||0,d=n.clientLeft||i.clientLeft||0,a=e.top+o-s,r=e.left+l-d;return{top:Math.round(a),left:Math.round(r)}
},getOffset:function(t){return t.getBoundingClientRect?this._aOfsRect(t):this._aOfs(t)},_isObj:function(t){return null!=t&&"object"==typeof t&&void 0===t.length},_copyObj:function(t){if(this._isObj(t)){var e={};for(var i in t)e[i]="object"==typeof t[i]&&null!=t[i]?this._copyObj(t[i]):t[i]}else for(var e=[],i=0;i<t.length;i++)e[i]="object"==typeof t[i]&&null!=t[i]?this._copyObj(t[i]):t[i];return e},screenDim:function(){var t=navigator.userAgent.indexOf("MSIE")>=0,e={};return e.left=document.body.scrollLeft,e.right=e.left+(window.innerWidth||document.body.clientWidth),e.top=Math.max((t?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),e.bottom=e.top+(t?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0):window.innerHeight),e},selectTextRange:function(t,e,i){t="string"==typeof t?document.getElementById(t):t;var n=t.value.length;if(e=Math.max(Math.min(e,n),0),i=Math.min(i,n),t.setSelectionRange)try{t.setSelectionRange(e,i)}catch(o){}else if(t.createTextRange){var l=t.createTextRange();l.moveStart("character",e),l.moveEnd("character",i-n);try{l.select()}catch(o){}}},transData:null,transDetect:function(){if(null==this.transData){this.transData={transProp:!1,transEv:null};var t={MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"transitionend",transition:"transitionend"};for(var e in t)0==this.transData.transProp&&null!=document.documentElement.style[e]&&(this.transData.transProp=e,this.transData.transEv=t[e]);t=null}return this.transData},_xmlNodeValue:function(t){for(var e="",i=0;i<t.childNodes.length;i++)e+=null!=t.childNodes[i].nodeValue?(""+t.childNodes[i].nodeValue).replace(/^[\n\r\s]{0,}/,"").replace(/[\n\r\s]{0,}$/,""):"";return e}},window.dhx4.isIE=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0,window.dhx4.isIE6=null==window.XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,window.dhx4.isIE7=navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,window.dhx4.isIE8=navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,window.dhx4.isIE9=navigator.userAgent.indexOf("MSIE 9.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,window.dhx4.isIE10=navigator.userAgent.indexOf("MSIE 10.0")>=0&&navigator.userAgent.indexOf("Trident")>=0&&1!=window.navigator.pointerEnabled,window.dhx4.isIE11=navigator.userAgent.indexOf("Trident")>=0&&1==window.navigator.pointerEnabled,window.dhx4.isEdge=navigator.userAgent.indexOf("Edge")>=0,window.dhx4.isOpera=navigator.userAgent.indexOf("Opera")>=0,window.dhx4.isChrome=navigator.userAgent.indexOf("Chrome")>=0&&!window.dhx4.isEdge,window.dhx4.isKHTML=!(navigator.userAgent.indexOf("Safari")<0&&navigator.userAgent.indexOf("Konqueror")<0||window.dhx4.isEdge),window.dhx4.isFF=navigator.userAgent.indexOf("Firefox")>=0,window.dhx4.isIPad=navigator.userAgent.search(/iPad/gi)>=0,window.dhx4.dnd={evs:{},p_en:(window.dhx4.isIE||window.dhx4.isEdge)&&(window.navigator.pointerEnabled||window.navigator.msPointerEnabled),_mTouch:function(t){return window.dhx4.isIE10&&t.pointerType==t.MSPOINTER_TYPE_MOUSE||window.dhx4.isIE11&&"mouse"==t.pointerType||window.dhx4.isEdge&&"mouse"==t.pointerType},_touchOn:function(t){null==t&&(t=document.body),t.style.touchAction=t.style.msTouchAction="",t=null},_touchOff:function(t){null==t&&(t=document.body),t.style.touchAction=t.style.msTouchAction="none",t=null}},1==window.navigator.pointerEnabled?window.dhx4.dnd.evs={start:"pointerdown",move:"pointermove",end:"pointerup"}:1==window.navigator.msPointerEnabled?window.dhx4.dnd.evs={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:void 0!==window.addEventListener&&(window.dhx4.dnd.evs={start:"touchstart",move:"touchmove",end:"touchend"})),void 0===window.dhx4.template&&(window.dhx4.trim=function(t){return(t+"").replace(/^\s{1,}/,"").replace(/\s{1,}$/,"")},window.dhx4.template=function(t,e,i){return t.replace(/#([a-z0-9_-]{1,})(\|([^#]*))?#/gi,function(){var t=arguments[1],n=window.dhx4.trim(arguments[3]),o=null,l=[e[t]];if(n.length>0){n=n.split(":");for(var s=[],d=0;d<n.length;d++)d>0&&null!=s[s.length-1].match(/\\$/)?s[s.length-1]=s[s.length-1].replace(/\\$/,"")+":"+n[d]:s.push(n[d]);o=s[0];for(var d=1;d<s.length;d++)l.push(s[d])}return"string"==typeof o&&"function"==typeof window.dhx4.template[o]?window.dhx4.template[o].apply(window.dhx4.template,l):t.length>0&&void 0!==e[t]?1==i?window.dhx4.trim(e[t]):e[t]+"":""})},window.dhx4.template.date=function(t,e){return null!=t?t instanceof Date?window.dhx4.date2str(t,e):(t=""+t,null!=t.match(/^\d*$/)?window.dhx4.date2str(new Date(parseInt(t)),e):t):""},window.dhx4.template.maxlength=function(t,e){return(t+"").substr(0,e)},window.dhx4.template.number_format=function(t,e,i,n){var o=window.dhx4.template._parseFmt(e,i,n);return 0==o?t:window.dhx4.template._getFmtValue(t,o)},window.dhx4.template.lowercase=function(t){return(void 0===t||null==t)&&(t=""),(t+"").toLowerCase()},window.dhx4.template.uppercase=function(t){return(void 0===t||null==t)&&(t=""),(t+"").toUpperCase()},window.dhx4.template._parseFmt=function(t,e,i){var n=t.match(/^([^\.\,0-9]*)([0\.\,]*)([^\.\,0-9]*)/);if(null==n||4!=n.length)return!1;var o={i_len:!1,i_sep:"string"==typeof e?e:",",d_len:!1,d_sep:"string"==typeof i?i:".",s_bef:"string"==typeof n[1]?n[1]:"",s_aft:"string"==typeof n[3]?n[3]:""},l=n[2].split(".");null!=l[1]&&(o.d_len=l[1].length);var s=l[0].split(",");return s.length>1&&(o.i_len=s[s.length-1].length),o},window.dhx4.template._getFmtValue=function(value,fmt){var r=(value+"").match(/^(-)?([0-9]{1,})(\.([0-9]{1,}))?$/);if(null!=r&&5==r.length){var v0="";if(null!=r[1]&&(v0+=r[1]),v0+=fmt.s_bef,fmt.i_len!==!1){for(var i=0,v1="",q=r[2].length-1;q>=0;q--)v1=""+r[2].charAt(q)+v1,++i==fmt.i_len&&q>0&&(v1=fmt.i_sep+v1,i=0);v0+=v1}else v0+=r[2];if(fmt.d_len!==!1){for(null==r[4]&&(r[4]="");r[4].length<fmt.d_len;)r[4]+="0";eval("dhx4.temp = new RegExp(/\\d{"+fmt.d_len+"}/);");var t1=r[4].match(dhx4.temp);null!=t1&&(v0+=fmt.d_sep+t1),dhx4.temp=t1=null}return v0+=fmt.s_aft}return value}),void 0===window.dhx4.dateLang&&(window.dhx4.dateLang="en",window.dhx4.dateStrings={en:{monthFullName:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShortName:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayFullName:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShortName:["Su","Mo","Tu","We","Th","Fr","Sa"]}},window.dhx4.dateFormat={en:"%Y-%m-%d"},window.dhx4.date2str=function(t,e,i){if((null==e||void 0===e)&&(e=window.dhx4.dateFormat[window.dhx4.dateLang]),(null==i||void 0===i)&&(i=window.dhx4.dateStrings[window.dhx4.dateLang]),t instanceof Date)var n=function(t){return 1==(t+"").length?"0"+(t+""):t},o=function(e){switch(e){case"%d":return n(t.getDate());case"%j":return t.getDate();case"%D":return i.dayShortName[t.getDay()];case"%l":return i.dayFullName[t.getDay()];case"%m":return n(t.getMonth()+1);case"%n":return t.getMonth()+1;case"%M":return i.monthShortName[t.getMonth()];case"%F":return i.monthFullName[t.getMonth()];case"%y":return n(t.getYear()%100);case"%Y":return t.getFullYear();case"%g":return(t.getHours()+11)%12+1;case"%h":return n((t.getHours()+11)%12+1);case"%G":return t.getHours();case"%H":return n(t.getHours());case"%i":return n(t.getMinutes());case"%s":return n(t.getSeconds());case"%a":return t.getHours()>11?"pm":"am";case"%A":return t.getHours()>11?"PM":"AM";case"%%":return"%";case"%u":return t.getMilliseconds();case"%P":if(null!=window.dhx4.temp_calendar&&null!=window.dhx4.temp_calendar.tz)return window.dhx4.temp_calendar.tz;var o=t.getTimezoneOffset(),l=Math.abs(Math.floor(o/60)),s=Math.abs(o)-60*l;return(o>0?"-":"+")+n(l)+":"+n(s);default:return e}},l=((e||window.dhx4.dateFormat)+"").replace(/%[a-zA-Z]/g,o);return l||t+""},window.dhx4.str2date=function(t,e,i){(null==e||void 0===e)&&(e=window.dhx4.dateFormat[window.dhx4.dateLang]),(null==i||void 0===i)&&(i=window.dhx4.dateStrings[window.dhx4.dateLang]),e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\\:|]/g,"\\$&");var n=[],o=[];e=e.replace(/%[a-z]/gi,function(t){switch(t){case"%d":case"%m":case"%y":case"%h":case"%H":case"%i":case"%s":return o.push(t),"(\\d{2})";case"%D":case"%l":case"%M":case"%F":return o.push(t),"([a-zéûäа-яё]{1,})";case"%j":case"%n":case"%g":case"%G":return o.push(t),"(\\d{1,2})";case"%Y":return o.push(t),"(\\d{4})";case"%a":return o.push(t),"([a|p]m)";case"%A":return o.push(t),"([A|P]M)";case"%u":return o.push(t),"(\\d{1,6})";case"%P":return o.push(t),"([+-]\\d{1,2}:\\d{1,2})"}return t});var l=RegExp(e,"i"),s=t.match(l);if(null==s||s.length-1!=o.length)return"Invalid Date";for(var d=1;d<s.length;d++)n.push(s[d]);for(var a={"%y":1,"%Y":1,"%n":2,"%m":2,"%M":2,"%F":2,"%d":3,"%j":3,"%a":4,"%A":4,"%H":5,"%G":5,"%h":5,"%g":5,"%i":6,"%s":7,"%u":7,"%P":7},r={},h={},d=0;d<o.length;d++)if(void 0!==a[o[d]]){var u=a[o[d]];r[u]||(r[u]=[],h[u]=[]),r[u].push(n[d]),h[u].push(o[d])}n=[],o=[];for(var d=1;7>=d;d++)if(null!=r[d])for(var c=0;c<r[d].length;c++)n.push(r[d][c]),o.push(h[d][c]);var m=new Date;m.setDate(1),m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0);for(var _=function(t,e){for(var i=0;i<e.length;i++)if(e[i].toLowerCase()==t)return i;return-1},d=0;d<n.length;d++)switch(o[d]){case"%d":case"%j":case"%n":case"%m":case"%Y":case"%H":case"%G":case"%i":case"%s":case"%u":isNaN(n[d])||m[{"%d":"setDate","%j":"setDate","%n":"setMonth","%m":"setMonth","%Y":"setFullYear","%H":"setHours","%G":"setHours","%i":"setMinutes","%s":"setSeconds","%u":"setMilliseconds"}[o[d]]](+n[d]+("%m"==o[d]||"%n"==o[d]?-1:0));break;case"%M":case"%F":var f=_(n[d].toLowerCase(),i[{"%M":"monthShortName","%F":"monthFullName"}[o[d]]]);0>f||m.setMonth(f);break;case"%y":if(!isNaN(n[d])){var p=+n[d];m.setFullYear(p+(p>50?1900:2e3))}break;case"%g":case"%h":if(!isNaN(n[d])){var p=+n[d];p>12||0>p||m.setHours(p+(_("pm",n)<0?12==p?-12:0:12==p?0:12))}break;case"%P":null!=window.dhx4.temp_calendar&&(window.dhx4.temp_calendar.tz=n[d])}return m}),void 0===window.dhx4.ajax&&(window.dhx4.ajax={cache:!1,method:"get",parse:function(t){if("string"!=typeof t)return t;if(t=t.replace(/^[\s]+/,""),window.DOMParser&&!dhx4.isIE)var e=(new window.DOMParser).parseFromString(t,"text/xml");else if(window.ActiveXObject!==window.undefined){var e=new window.ActiveXObject("Microsoft.XMLDOM");e.async="false",e.loadXML(t)}return e},xmltop:function(t,e,i){if((void 0===e.status||e.status<400)&&(xml=e.responseXML?e.responseXML||e:dhx4.ajax.parse(e.responseText||e),xml&&null!==xml.documentElement))try{if(!xml.getElementsByTagName("parsererror").length)return xml.getElementsByTagName(t)[0]}catch(n){}return-1!==i&&dhx4.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],i]),document.createElement("DIV")},xpath:function(t,e){if(e.nodeName||(e=e.responseXML||e),!dhx4.isIE){for(var i,n=[],o=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ANY_TYPE,null);i=o.iterateNext();)n.push(i);return n}try{return e.selectNodes(t)||[]}catch(l){return[]}},query:function(t){dhx4.ajax._call(t.method||"GET",t.url,t.data||"",t.async||!0,t.callback,null,t.headers)},get:function(t,e){return this._call("GET",t,null,!0,e)},getSync:function(t){return this._call("GET",t,null,!1)},put:function(t,e,i){return this._call("PUT",t,e,!0,i)},del:function(t,e,i){return this._call("DELETE",t,e,!0,i)},post:function(t,e,i){return 1==arguments.length?e="":2!=arguments.length||"function"!=typeof e&&"function"!=typeof window[e]?e+="":(i=e,e=""),this._call("POST",t,e,!0,i)},postSync:function(t,e){return e=null==e?"":e+"",this._call("POST",t,e,!1)},getLong:function(t,e){this._call("GET",t,null,!0,e,{url:t})},postLong:function(t,e,i){2==arguments.length&&(i=e,e=""),this._call("POST",t,e,!0,i,{url:t,postData:e})},_call:function(t,e,i,n,o,l,s){var d=window.XMLHttpRequest&&!dhx4.isIE?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a=null!=navigator.userAgent.match(/AppleWebKit/)&&null!=navigator.userAgent.match(/Qt/)&&null!=navigator.userAgent.match(/Safari/);if(1==n&&(d.onreadystatechange=function(){if(4==d.readyState||1==a&&3==d.readyState){if((200!=d.status||""==d.responseText)&&!dhx4.callEvent("onAjaxError",[{xmlDoc:d,filePath:e,async:n}]))return;window.setTimeout(function(){"function"==typeof o&&o.apply(window,[{xmlDoc:d,filePath:e,async:n}]),null!=l&&(void 0!==l.postData?dhx4.ajax.postLong(l.url,l.postData,o):dhx4.ajax.getLong(l.url,o)),o=null,d=null},1)}}),"GET"==t&&(e+=this._dhxr(e)),d.open(t,e,n),null!=s)for(var r in s)d.setRequestHeader(r,s[r]);else"POST"==t||"PUT"==t||"DELETE"==t?d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==t&&(i=null);return d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(i),1!=n&&(4==d.readyState||1==a&&3==d.readyState)&&(200!=d.status||""==d.responseText)&&dhx4.callEvent("onAjaxError",[{xmlDoc:d,filePath:e,async:n}]),{xmlDoc:d,filePath:e,async:n}},_dhxr:function(t,e){return 1!=this.cache?(null==t.match(/^[\?\&]$/)&&(t=t.indexOf("?")<0?"?":"&"),void 0===e&&(e=!0),t+"dhxr"+(new Date).getTime()+(1==e?"=1":"")):""}}),void 0===window.dhx4._enableDataLoading&&(window.dhx4._enableDataLoading=function(t,e,i,n,o){if("clear"==o){for(var l in t._dhxdataload)t._dhxdataload[l]=null,delete t._dhxdataload[l];return t._loadData=null,t._dhxdataload=null,t.load=null,t.loadStruct=null,void(t=null)}if(t._dhxdataload={initObj:e,xmlToJson:i,xmlRootTag:n,onBeforeXLS:null},t._loadData=function(t,e,i){2==arguments.length&&(i=e,e=null);var n=null;if(3==arguments.length&&(i=arguments[2]),"string"==typeof t){var o=t.replace(/^\s{1,}/,"").replace(/\s{1,}$/,""),l=RegExp("^<"+this._dhxdataload.xmlRootTag);if(l.test(o.replace(/^<\?xml[^\?]*\?>\s*/,""))&&(n=dhx4.ajax.parse(t),null!=n&&(n=this[this._dhxdataload.xmlToJson].apply(this,[n]))),null!=n||null==o.match(/^[\s\S]*{[.\s\S]*}[\s\S]*$/)&&null==o.match(/^[\s\S]*\[[.\s\S]*\][\s\S]*$/)||(n=dhx4.s2j(o)),null==n){this.callEvent("onXLS",[]);var s=[];if("function"==typeof this._dhxdataload.onBeforeXLS){var o=this._dhxdataload.onBeforeXLS.apply(this,[t]);if(null!=o&&"object"==typeof o&&(null!=o.url&&(t=o.url),null!=o.params))for(var d in o.params)s.push(d+"="+encodeURIComponent(o.params[d]))}var a=this,r=function(e){var n=null;n=(e.xmlDoc.getResponseHeader("Content-Type")||"").search(/xml/gi)<0&&null==e.xmlDoc.responseText.replace(/^\s{1,}/,"").match(/^</)?dhx4.s2j(e.xmlDoc.responseText):a[a._dhxdataload.xmlToJson].apply(a,[e.xmlDoc.responseXML]),null!=n&&a[a._dhxdataload.initObj].apply(a,[n,t]),a.callEvent("onXLE",[]),null!=i&&("function"==typeof i?i.apply(a,[]):"function"==typeof window[i]&&window[i].apply(a,[])),r=i=null,n=e=a=null};return s=s.join("&")+("string"==typeof e?"&"+e:""),void("post"==dhx4.ajax.method?dhx4.ajax.post(t,s,r):"get"==dhx4.ajax.method&&dhx4.ajax.get(t+(s.length>0?(t.indexOf("?")>0?"&":"?")+s:""),r))}}else n="object"==typeof t.documentElement||void 0!==t.tagName&&void 0!==t.getElementsByTagName&&t.getElementsByTagName(this._dhxdataload.xmlRootTag).length>0?this[this._dhxdataload.xmlToJson].apply(this,[t]):window.dhx4._copyObj(t);null!=n&&this[this._dhxdataload.initObj].apply(this,[n]),null!=i&&("function"==typeof i?i.apply(this,[]):"function"==typeof window[i]&&window[i].apply(this,[]),i=null)},null!=o){var s={struct:"loadStruct",data:"load"};for(var l in o)1==o[l]&&(t[s[l]]=function(){return this._loadData.apply(this,arguments)})}t=null}),void 0===window.dhx4._eventable&&(window.dhx4._eventable=function(t,e){return"clear"==e?(t.detachAllEvents(),t.dhxevs=null,t.attachEvent=null,t.detachEvent=null,t.checkEvent=null,t.callEvent=null,t.detachAllEvents=null,void(t=null)):(t.dhxevs={data:{}},t.attachEvent=function(t,e){t=(t+"").toLowerCase(),this.dhxevs.data[t]||(this.dhxevs.data[t]={});var i=window.dhx4.newId();return this.dhxevs.data[t][i]=e,i},t.detachEvent=function(t){for(var e in this.dhxevs.data){var i=0;for(var n in this.dhxevs.data[e])n==t?(this.dhxevs.data[e][n]=null,delete this.dhxevs.data[e][n]):i++;0==i&&(this.dhxevs.data[e]=null,delete this.dhxevs.data[e])}},t.checkEvent=function(t){return t=(t+"").toLowerCase(),null!=this.dhxevs.data[t]},t.callEvent=function(t,e){if(t=(t+"").toLowerCase(),null==this.dhxevs.data[t])return!0;var i=!0;for(var n in this.dhxevs.data[t])i=this.dhxevs.data[t][n].apply(this,e)&&i;return i},t.detachAllEvents=function(){for(var t in this.dhxevs.data){for(var e in this.dhxevs.data[t])this.dhxevs.data[t][e]=null,delete this.dhxevs.data[t][e];this.dhxevs.data[t]=null,delete this.dhxevs.data[t]}},void(t=null))},dhx4._eventable(dhx4)),window.dhtmlxValidation||(dhtmlxValidation=function(){},dhtmlxValidation.prototype={isEmpty:function(t){return""==t},isNotEmpty:function(t){return t instanceof Array?t.length>0:""==!t},isValidBoolean:function(t){return!!(""+t).match(/^(0|1|true|false)$/)},isValidEmail:function(t){return!!(""+t).match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,5})$)/i)},isValidInteger:function(t){return!!(""+t).match(/(^-?\d+$)/)},isValidNumeric:function(t){return!!(""+t).match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(t){return!!(""+t).match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(t){var e=(""+t).match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return e&&!(e[1]>9999||e[2]>12||e[3]>31||e[4]>59||e[5]>59||e[6]>59)||!1},isValidDate:function(t){var e=(""+t).match(/^(\d{4})-(\d{2})-(\d{2})$/);return e&&!(e[1]>9999||e[2]>12||e[3]>31)||!1},isValidTime:function(t){var e=(""+t).match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return e&&!(e[1]>24||e[2]>59||e[3]>59)||!1},isValidIPv4:function(t){var e=(""+t).match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return e&&!(e[1]>255||e[2]>255||e[3]>255||e[4]>255)||!1},isValidCurrency:function(t){return(""+t).match(/^\$?\s?\d+?([\.,\,]?\d+)?\s?\$?$/)&&!0||!1},isValidSSN:function(t){return(""+t).match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&!0||!1},isValidSIN:function(t){return(""+t).match(/^\d{9}$/)&&!0||!1}},dhtmlxValidation=new dhtmlxValidation),void 0===window.dhtmlx&&(window.dhtmlx={extend:function(t,e){for(var i in e)t[i]||(t[i]=e[i]);return t},extend_api:function(t,e,i){var n=window[t];n&&(window[t]=function(t){if(t&&"object"==typeof t&&!t.tagName){var i=n.apply(this,e._init?e._init(t):arguments);for(var o in dhtmlx)e[o]&&this[e[o]](dhtmlx[o]);for(var o in t)e[o]?this[e[o]](t[o]):0===o.indexOf("on")&&this.attachEvent(o,t[o])}else var i=n.apply(this,arguments);return e._patch&&e._patch(this),i||this},window[t].prototype=n.prototype,i&&dhtmlx.extend(window[t].prototype,i))},url:function(t){return-1!=t.indexOf("?")?"&":"?"}}),dhtmlDragAndDropObject.prototype.removeDraggableItem=function(t){t.onmousedown=null,t.dragStarter=null,t.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(t,e){t.onmousedown=this.preCreateDragCopy,t.dragStarter=e,this.addDragLanding(t,e)},dhtmlDragAndDropObject.prototype.addDragLanding=function(t,e){t.dragLanding=e},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(t){return!t&&!window.event||2!=(t||event).button?window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(t),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),t&&t.preventDefault?(t.preventDefault(),!1):!1):void 0},dhtmlDragAndDropObject.prototype.callDrag=function(t){if(t||(t=window.event),dragger=window.dhtmlDragAndDrop,(new Date).valueOf()-dragger.downtime>=100){if(!dragger.dragNode){if(!dragger.waitDrag)return dragger.stopDrag(t,!0);if(dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,t),!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1},dragger.gldragNode=dragger.dragNode,document.body.appendChild(dragger.dragNode),document.body.onmouseup=dragger.stopDrag,dragger.waitDrag=0,dragger.dragNode.pWindow=window,dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var e=dragger.gldragNode;dragger.gldragNode.old&&(e=dragger.gldragNode.old),e.parentNode.removeChild(e);var i=dragger.dragNode.pWindow;if(e.pWindow&&e.pWindow.dhtmlDragAndDrop.lastLanding&&e.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(e.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var n=document.createElement("Div");n.innerHTML=dragger.dragNode.outerHTML,dragger.dragNode=n.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window,dragger.gldragNode.old=dragger.dragNode,document.body.appendChild(dragger.dragNode),i.dhtmlDragAndDrop.dragNode=dragger.dragNode}if(dragger.dragNode.style.left=t.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",dragger.dragNode.style.top=t.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",t.srcElement)o=t.srcElement;else var o=t.target;dragger.checkLanding(o,t)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(t){if(window.name){for(var e=parent.frames[window.name].frameElement.offsetParent,i=0,n=0;e;)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;if(parent.dhtmlDragAndDrop){var o=parent.dhtmlDragAndDrop.calculateFramePosition(1);i+=1*o.split("_")[0],n+=1*o.split("_")[1]}if(t)return i+"_"+n;this.fx=i,this.fy=n}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(t,e){t&&t.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=t,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,e.clientX,e.clientY,e),this.lastLanding_scr=_isIE?e.srcElement:e.target):t&&"BODY"!=t.tagName?this.checkLanding(t.parentNode,e):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,e.clientX,e.clientY,e),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(t,e){if(dragger=window.dhtmlDragAndDrop,!e){dragger.stopFrameRoute();var i=dragger.lastLanding;dragger.lastLanding=null,i&&i.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,i,_isIE?event.srcElement:t.target)}dragger.lastLanding=null,dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode),dragger.dragNode=0,dragger.gldragNode=0,dragger.fx=0,dragger.fy=0,dragger.dragStartNode=0,dragger.dragStartObject=0,document.body.onmouseup=dragger.tempDOMU,document.body.onmousemove=dragger.tempDOMM,dragger.tempDOMU=null,dragger.tempDOMM=null,dragger.waitDrag=0},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(t){t&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var e=0;e<window.frames.length;e++)try{window.frames[e]!=t&&window.frames[e].dhtmlDragAndDrop&&window.frames[e].dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=t&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(t,e){t&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=t.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=t.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=t.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=t.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,_isIE||!e||_isFF&&_FFrv>=1.8||window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=t&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(i){}for(var n=0;n<window.frames.length;n++)try{window.frames[n]!=t&&window.frames[n].dhtmlDragAndDrop&&window.frames[n].dhtmlDragAndDrop.initFrameRoute(window,!t||e?1:0)}catch(i){}},_isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,-1==navigator.appVersion.indexOf("MSIE 8.0")&&-1==navigator.appVersion.indexOf("MSIE 9.0")&&-1==navigator.appVersion.indexOf("MSIE 10.0")&&document.documentMode<=7||"BackCompat"==document.compatMode||(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),void 0===window.dhtmlxEvent,null==dhtmlxEvent.touchDelay&&(dhtmlxEvent.touchDelay=2e3),void 0===dhtmlxEvent.initTouch&&(dhtmlxEvent.initTouch=function(){function t(){if(i){var t=document.createEvent("HTMLEvents");t.initEvent("dblclick",!0,!0),i.dispatchEvent(t),e=i=null}}var e,i,n,o;dhtmlxEvent(document.body,"touchstart",function(l){i=l.touches[0].target,n=l.touches[0].clientX,o=l.touches[0].clientY,e=window.setTimeout(t,dhtmlxEvent.touchDelay)}),dhtmlxEvent(document.body,"touchmove",function(t){e&&(Math.abs(t.touches[0].clientX-n)>50||Math.abs(t.touches[0].clientY-o)>50)&&(window.clearTimeout(e),e=i=!1)}),dhtmlxEvent(document.body,"touchend",function(){e&&(window.clearTimeout(e),e=i=!1)}),dhtmlxEvent.initTouch=function(){}}),window.dhtmlx||(dhtmlx={}),dhtmlx.assert=function(t,e){t||dhtmlx.error(e)},dhtmlx.assert_enabled=function(){return!1},dhtmlx.assert_event=function(t,e){t._event_check||(t._event_check={},t._event_check_size={});for(var i in e){t._event_check[i.toLowerCase()]=e[i];var n=-1;for(var o in e[i])n++;t._event_check_size[i.toLowerCase()]=n}},dhtmlx.assert_method_info=function(t,e,i,n){for(var o=[],l=0;l<n.length;l++)o.push(n[l][0]+" : "+n[l][1]+"\n   "+n[l][2].describe()+(n[l][3]?"; optional":""));return t.name+"."+e+"\n"+i+"\n Arguments:\n - "+o.join("\n - ")},dhtmlx.assert_method=function(t,e){for(var i in e)dhtmlx.assert_method_process(t,i,e[i].descr,e[i].args,e[i].min||99,e[i].skip)},dhtmlx.assert_method_process=function(t,e,i,n,o,l){var s=t[e];l||(t[e]=function(){if(arguments.length!=n.length&&arguments.length<o)dhtmlx.log("warn","Incorrect count of parameters\n"+t[e].describe()+"\n\nExpecting "+n.length+" but have only "+arguments.length);else for(var i=0;i<n.length;i++)n[i][3]||n[i][2](arguments[i])||dhtmlx.log("warn","Incorrect method call\n"+t[e].describe()+"\n\nActual value of "+(i+1)+" parameter: {"+typeof arguments[i]+"} "+arguments[i]);return s.apply(this,arguments)}),t[e].describe=function(){return dhtmlx.assert_method_info(t,e,i,n)}},dhtmlx.assert_event_call=function(t,e,i){t._event_check&&(t._event_check[e]?dhtmlx.isNotDefined(i)?dhtmlx.log("warn","Event without parameters :"+e):t._event_check_size[e]!=i.length&&dhtmlx.log("warn","Incorrect event call, expected "+t._event_check_size[e]+" parameter(s), but have "+i.length+" parameter(s), for "+e+" event"):dhtmlx.log("warn","Not expected event call :"+e))},dhtmlx.assert_event_attach=function(t,e){t._event_check&&!t._event_check[e]&&dhtmlx.log("warn","Unknown event name: "+e)},dhtmlx.assert_property=function(t,e){t._settings_check||(t._settings_check={}),dhtmlx.extend(t._settings_check,e)},dhtmlx.assert_check=function(t,e){if("object"==typeof t)for(var i in t)dhtmlx.assert_settings(i,t[i],e)},dhtmlx.assert_settings=function(t,e,i){if(i=i||this._settings_check){if(!i[t])return dhtmlx.log("warn","Unknown propery: "+t);for(var n=!1,o=0;o<i[t].length;o++){var l=i[t][o];if("string"!=typeof l&&("function"==typeof l?n=n||l(e):"object"==typeof l&&"function"==typeof l[1]&&(n=n||l[1](e),n&&l[2]&&dhtmlx.assert_check(e,l[2])),n))break}n||dhtmlx.log("warn","Invalid configuration\n"+dhtmlx.assert_info(t,i)+"\nActual value: {"+typeof e+"} "+e)}},dhtmlx.assert_info=function(t,e){for(var i=e[t],n="",o=[],l=0;l<i.length;l++)"string"==typeof rule?n=i[l]:i[l].describe?o.push(i[l].describe()):i[l][1]&&i[l][1].describe&&o.push(i[l][1].describe());return"Property: "+t+", "+n+" \nExpected value: \n - "+o.join("\n - ")},dhtmlx.assert_enabled()&&(dhtmlx.assert_rule_color=function(t){return"string"!=typeof t?!1:0!==t.indexOf("#")?!1:""!==t.substr(1).replace(/[0-9A-F]/gi,"")?!1:!0},dhtmlx.assert_rule_color.describe=function(){return"{String} Value must start from # and contain hexadecimal code of color"},dhtmlx.assert_rule_template=function(t){return"function"==typeof t?!0:"string"==typeof t?!0:!1},dhtmlx.assert_rule_template.describe=function(){return"{Function},{String} Value must be a function which accepts data object and return text string, or a sting with optional template markers"},dhtmlx.assert_rule_boolean=function(t){return"boolean"==typeof t?!0:!1},dhtmlx.assert_rule_boolean.describe=function(){return"{Boolean} true or false"},dhtmlx.assert_rule_object=function(t){return"object"==typeof t?!0:!1},dhtmlx.assert_rule_object.describe=function(){return"{Object} Configuration object"},dhtmlx.assert_rule_string=function(t){return"string"==typeof t?!0:!1},dhtmlx.assert_rule_string.describe=function(){return"{String} Plain string"},dhtmlx.assert_rule_htmlpt=function(t){return!!dhtmlx.toNode(t)},dhtmlx.assert_rule_htmlpt.describe=function(){return"{Object},{String} HTML node or ID of HTML Node"},dhtmlx.assert_rule_notdocumented=function(){return!1},dhtmlx.assert_rule_notdocumented.describe=function(){return"This options wasn't documented"},dhtmlx.assert_rule_key=function(t){var e=function(e){return t[e]};return e.describe=function(){var e=[];for(var i in t)e.push(i);return"{String} can take one of next values: "+e.join(", ")},e},dhtmlx.assert_rule_dimension=function(t){return 1*t!=t||isNaN(t)||0>t?!1:!0},dhtmlx.assert_rule_dimension.describe=function(){return"{Integer} value must be a positive number"},dhtmlx.assert_rule_number=function(t){return"number"==typeof t?!0:!1},dhtmlx.assert_rule_number.describe=function(){return"{Integer} value must be a number"},dhtmlx.assert_rule_function=function(t){return"function"==typeof t?!0:!1},dhtmlx.assert_rule_function.describe=function(){return"{Function} value must be a custom function"},dhtmlx.assert_rule_any=function(){return!0},dhtmlx.assert_rule_any.describe=function(){return"Any value"},dhtmlx.assert_rule_mix=function(t,e){var i=function(i){return t(i)||e(i)?!0:!1};return i.describe=function(){return t.describe()},i}),dhtmlx.codebase="./",dhtmlx.copy=function(t){var e=dhtmlx.copy._function;return e.prototype=t,new e},dhtmlx.copy._function=function(){},dhtmlx.extend=function(t,e){for(var i in e)t[i]=e[i];return dhtmlx.assert_enabled()&&e._assert&&(t._assert(),t._assert=null),dhtmlx.assert(t,"Invalid nesting target"),dhtmlx.assert(e,"Invalid nesting source"),e._init&&t._init(),t},dhtmlx.proto_extend=function(){for(var t=arguments,e=t[0],i=[],n=t.length-1;n>0;n--){"function"==typeof t[n]&&(t[n]=t[n].prototype);for(var o in t[n])"_init"==o?i.push(t[n][o]):e[o]||(e[o]=t[n][o])}t[0]._init&&i.push(t[0]._init),e._init=function(){for(var t=0;t<i.length;t++)i[t].apply(this,arguments)},e.base=t[1];var l=function(t){this._init(t),this._parseSettings&&this._parseSettings(t,this.defaults)};return l.prototype=e,e=t=null,l},dhtmlx.bind=function(t,e){return function(){return t.apply(e,arguments)
}},dhtmlx.require=function(t){dhtmlx._modules[t]||(dhtmlx.assert(dhtmlx.ajax,"load module is required"),dhtmlx.exec(dhtmlx.ajax().sync().get(dhtmlx.codebase+t).responseText),dhtmlx._modules[t]=!0)},dhtmlx._modules={},dhtmlx.exec=function(t){window.execScript?window.execScript(t):window.eval(t)},dhtmlx.methodPush=function(t,e){return function(){var i=!1;return i=t[e].apply(t,arguments)}},dhtmlx.isNotDefined=function(t){return void 0===t},dhtmlx.delay=function(t,e,i,n){setTimeout(function(){var n=t.apply(e,i);return t=e=i=null,n},n||1)},dhtmlx.uid=function(){return this._seed||(this._seed=(new Date).valueOf()),this._seed++,this._seed},dhtmlx.toNode=function(t){return"string"==typeof t?document.getElementById(t):t},dhtmlx.toArray=function(t){return dhtmlx.extend(t||[],dhtmlx.PowerArray)},dhtmlx.toFunctor=function(str){return"string"==typeof str?eval(str):str},dhtmlx._events={},dhtmlx.event=function(t,e,i,n){t=dhtmlx.toNode(t);var o=dhtmlx.uid();return dhtmlx._events[o]=[t,e,i],n&&(i=dhtmlx.bind(i,n)),t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i),o},dhtmlx.eventRemove=function(t){if(t){dhtmlx.assert(this._events[t],"Removing non-existing event");var e=dhtmlx._events[t];e[0].removeEventListener?e[0].removeEventListener(e[1],e[2],!1):e[0].detachEvent&&e[0].detachEvent("on"+e[1],e[2]),delete this._events[t]}},dhtmlx.log=function(t,e,i){window.console&&console.log&&(t=t.toLowerCase(),window.console[t]?window.console[t](e||"unknown error"):window.console.log(t+": "+e),i&&window.console.log(i))},dhtmlx.log_full_time=function(t){dhtmlx._start_time_log=new Date,dhtmlx.log("Info","Timing start ["+t+"]"),window.setTimeout(function(){var e=new Date;dhtmlx.log("Info","Timing end ["+t+"]:"+(e.valueOf()-dhtmlx._start_time_log.valueOf())/1e3+"s")},1)},dhtmlx.log_time=function(t){var e="_start_time_log"+t;if(dhtmlx[e]){var i=new Date;dhtmlx.log("Info","Timing end ["+t+"]:"+(i.valueOf()-dhtmlx[e].valueOf())/1e3+"s"),dhtmlx[e]=null}else dhtmlx[e]=new Date,dhtmlx.log("Info","Timing start ["+t+"]")},dhtmlx.error=function(t,e){dhtmlx.log("error",t,e)},dhtmlx.EventSystem={_init:function(){this._events={},this._handlers={},this._map={}},block:function(){this._events._block=!0},unblock:function(){this._events._block=!1},mapEvent:function(t){dhtmlx.extend(this._map,t)},callEvent:function(t,e){if(this._events._block)return!0;t=t.toLowerCase(),dhtmlx.assert_event_call(this,t,e);var i=this._events[t.toLowerCase()],n=!0;if(dhtmlx.debug&&dhtmlx.log("info","["+this.name+"] event:"+t,e),i)for(var o=0;o<i.length;o++)i[o].apply(this,e||[])===!1&&(n=!1);return this._map[t]&&!this._map[t].callEvent(t,e)&&(n=!1),n},attachEvent:function(t,e,i){t=t.toLowerCase(),dhtmlx.assert_event_attach(this,t),i=i||dhtmlx.uid(),e=dhtmlx.toFunctor(e);var n=this._events[t]||dhtmlx.toArray();return n.push(e),this._events[t]=n,this._handlers[i]={f:e,t:t},i},detachEvent:function(t){if(this._handlers[t]){var e=this._handlers[t].t,i=this._handlers[t].f,n=this._events[e];n.remove(i),delete this._handlers[t]}}},dhtmlx.PowerArray={removeAt:function(t,e){0>t||this.splice(t,e||1)},remove:function(t){this.removeAt(this.find(t))},insertAt:function(t,e){if(e||0===e){var i=this.splice(e,this.length-e);this[e]=t,this.push.apply(this,i)}else this.push(t)},find:function(t){for(i=0;i<this.length;i++)if(t==this[i])return i;return-1},each:function(t,e){for(var i=0;i<this.length;i++)t.call(e||this,this[i])},map:function(t,e){for(var i=0;i<this.length;i++)this[i]=t.call(e||this,this[i]);return this}},dhtmlx.env={},-1!=navigator.userAgent.indexOf("Opera")?dhtmlx._isOpera=!0:(dhtmlx._isIE=!!document.all,dhtmlx._isFF=!document.all,dhtmlx._isWebKit=-1!=navigator.userAgent.indexOf("KHTML"),-1!=navigator.appVersion.indexOf("MSIE 8.0")&&"BackCompat"!=document.compatMode&&(dhtmlx._isIE=8),-1!=navigator.appVersion.indexOf("MSIE 9.0")&&"BackCompat"!=document.compatMode&&(dhtmlx._isIE=9)),dhtmlx.env={},function(){dhtmlx.env.transform=!1,dhtmlx.env.transition=!1;var t={};t.names=["transform","transition"],t.transform=["transform","WebkitTransform","MozTransform","oTransform","msTransform"],t.transition=["transition","WebkitTransition","MozTransition","oTransition"];for(var e=document.createElement("DIV"),i=0;i<t.names.length;i++)for(;p=t[t.names[i]].pop();)void 0!==e.style[p]&&(dhtmlx.env[t.names[i]]=!0)}(),dhtmlx.env.transform_prefix=function(){var t;return dhtmlx._isOpera?t="-o-":(t="",dhtmlx._isFF&&(t="-moz-"),dhtmlx._isWebKit&&(t="-webkit-")),t}(),dhtmlx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),dhtmlx.zIndex={drag:1e4},dhtmlx.html={create:function(t,e,i){e=e||{};var n=document.createElement(t);for(var o in e)n.setAttribute(o,e[o]);return e.style&&(n.style.cssText=e.style),e["class"]&&(n.className=e["class"]),i&&(n.innerHTML=i),n},getValue:function(t){return t=dhtmlx.toNode(t),t?dhtmlx.isNotDefined(t.value)?t.innerHTML:t.value:""},remove:function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.remove(t[e]);else t&&t.parentNode&&t.parentNode.removeChild(t)},insertBefore:function(t,e,i){t&&(e?e.parentNode.insertBefore(t,e):i.appendChild(t))},locate:function(t,e){t=t||event;for(var i=t.target||t.srcElement;i;){if(i.getAttribute){var n=i.getAttribute(e);if(n)return n}i=i.parentNode}return null},offset:function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=document.body,n=document.documentElement,o=window.pageYOffset||n.scrollTop||i.scrollTop,l=window.pageXOffset||n.scrollLeft||i.scrollLeft,s=n.clientTop||i.clientTop||0,d=n.clientLeft||i.clientLeft||0,a=e.top+o-s,r=e.left+l-d;return{y:Math.round(a),x:Math.round(r)}}for(var a=0,r=0;t;)a+=parseInt(t.offsetTop,10),r+=parseInt(t.offsetLeft,10),t=t.offsetParent;return{y:a,x:r}},pos:function(t){if(t=t||event,t.pageX||t.pageY)return{x:t.pageX,y:t.pageY};var e=dhtmlx._isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:t.clientX+e.scrollLeft-e.clientLeft,y:t.clientY+e.scrollTop-e.clientTop}},preventEvent:function(t){t&&t.preventDefault&&t.preventDefault(),dhtmlx.html.stopEvent(t)},stopEvent:function(t){return(t||event).cancelBubble=!0,!1},addCss:function(t,e){t.className+=" "+e},removeCss:function(t,e){t.className=t.className.replace(RegExp(e,"g"),"")}},function(){var t=document.getElementsByTagName("SCRIPT");dhtmlx.assert(t.length,"Can't locate codebase"),t.length&&(t=(t[t.length-1].getAttribute("src")||"").split("/"),t.splice(t.length-1,1),dhtmlx.codebase=t.slice(0,t.length).join("/")+"/")}(),dhtmlx.ui||(dhtmlx.ui={}),dhtmlx.Destruction={_init:function(){dhtmlx.destructors.push(this)},destructor:function(){this.destructor=function(){},this._htmlmap=null,this._htmlrows=null,this._html&&document.body.appendChild(this._html),this._html=null,this._obj&&(this._obj.innerHTML="",this._obj._htmlmap=null),this._obj=this._dataobj=null,this.data=null,this._events=this._handlers={},this.render&&(this.render=function(){})}},dhtmlx.destructors=[],dhtmlx.event(window,"unload",function(){if(dhtmlx.destructors){for(var t=0;t<dhtmlx.destructors.length;t++)dhtmlx.destructors[t].destructor();dhtmlx.destructors=[]}for(var e in dhtmlx._events){var i=dhtmlx._events[e];i[0].removeEventListener?i[0].removeEventListener(i[1],i[2],!1):i[0].detachEvent&&i[0].detachEvent("on"+i[1],i[2]),delete dhtmlx._events[e]}}),dhtmlx.ajax=function(t,e,i){if(0!==arguments.length){var n=new dhtmlx.ajax;i&&(n.master=i),n.get(t,null,e)}return this.getXHR?this:new dhtmlx.ajax},dhtmlx.ajax.prototype={getXHR:function(){return dhtmlx._isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(t,e,i){var n=this.getXHR();if("function"==typeof i&&(i=[i]),"object"==typeof e){var o=[];for(var l in e){var s=e[l];(null===s||s===dhtmlx.undefined)&&(s=""),o.push(l+"="+encodeURIComponent(s))}e=o.join("&")}e&&!this.post&&(t=t+(-1!=t.indexOf("?")?"&":"?")+e,e=null),n.open(this.post?"POST":"GET",t,!this._sync),this.post&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var d=this;return n.onreadystatechange=function(){if(!n.readyState||4==n.readyState){if(i&&d)for(var t=0;t<i.length;t++)i[t]&&i[t].call(d.master||d,n.responseText,n.responseXML,n);d.master=null,i=d=null}},n.send(e||null),n},get:function(t,e,i){return this.post=!1,this.send(t,e,i)},post:function(t,e,i){return this.post=!0,this.send(t,e,i)},sync:function(){return this._sync=!0,this}},dhtmlx.AtomDataLoader={_init:function(t){this.data={},t&&(this._settings.datatype=t.datatype||"json",this._after_init.push(this._load_when_ready))},_load_when_ready:function(){this._ready_for_data=!0,this._settings.url&&this.url_setter(this._settings.url),this._settings.data&&this.data_setter(this._settings.data)},url_setter:function(t){return this._ready_for_data?(this.load(t,this._settings.datatype),t):t},data_setter:function(t){return this._ready_for_data?(this.parse(t,this._settings.datatype),!0):t},load:function(t,e){this.callEvent("onXLS",[]),"string"==typeof e?(this.data.driver=dhtmlx.DataDriver[e],e=arguments[2]):this.data.driver=dhtmlx.DataDriver[this._settings.datatype||"xml"],window.dhx4?dhx4.ajax.get(t,dhtmlx.bind(function(t){var i=t.xmlDoc,n=i.responseText,o=i.responseXML;this._onLoad&&this._onLoad.call(this,n,o,i),e&&e.call(this,n,o,i)},this)):dhtmlx.ajax(t,[this._onLoad,e],this)},parse:function(t,e){this.callEvent("onXLS",[]),this.data.driver=dhtmlx.DataDriver[e||"xml"],this._onLoad(t,null)},_onLoad:function(t,e){var i=this.data.driver,n=i.getRecords(i.toObject(t,e))[0];this.data=i?i.getDetails(n):t,this.callEvent("onXLE",[])},_check_data_feed:function(t){if(!this._settings.dataFeed||this._ignore_feed||!t)return!0;var e=this._settings.dataFeed;return"function"==typeof e?e.call(this,t.id||t,t):(e=e+(-1==e.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(t.id||t),this.callEvent("onXLS",[]),dhtmlx.ajax(e,function(t){this._ignore_feed=!0,this.setValues(dhtmlx.DataDriver.json.toObject(t)[0]),this._ignore_feed=!1,this.callEvent("onXLE",[])},this),!1)}},dhtmlx.DataDriver={},dhtmlx.DataDriver.json={toObject:function(data){return data||(data="[]"),"string"==typeof data?(eval("dhtmlx.temp="+data),dhtmlx.temp):data},getRecords:function(t){return t&&t.data&&(t=t.data),!t||t instanceof Array?t:[t]},getDetails:function(t){return t},getInfo:function(t){return{_size:t.total_count||0,_from:t.pos||0,_key:t.dhx_security}}},dhtmlx.DataDriver.json_ext={toObject:function(data){if(data||(data="[]"),"string"==typeof data){var temp;eval("temp="+data),dhtmlx.temp=[];for(var header=temp.header,i=0;i<temp.data.length;i++){for(var item={},j=0;j<header.length;j++)void 0!==temp.data[i][j]&&(item[header[j]]=temp.data[i][j]);dhtmlx.temp.push(item)}return dhtmlx.temp}return data},getRecords:function(t){return!t||t instanceof Array?t:[t]},getDetails:function(t){return t},getInfo:function(t){return{_size:t.total_count||0,_from:t.pos||0}}},dhtmlx.DataDriver.html={toObject:function(t){if("string"==typeof t){var e=null;return-1==t.indexOf("<")&&(e=dhtmlx.toNode(t)),e||(e=document.createElement("DIV"),e.innerHTML=t),e.getElementsByTagName(this.tag)}return t},getRecords:function(t){return t.tagName?t.childNodes:t},getDetails:function(t){return dhtmlx.DataDriver.xml.tagToObject(t)},getInfo:function(){return{_size:0,_from:0}},tag:"LI"},dhtmlx.DataDriver.jsarray={toObject:function(data){return"string"==typeof data?(eval("dhtmlx.temp="+data),dhtmlx.temp):data},getRecords:function(t){return t},getDetails:function(t){for(var e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{_size:0,_from:0}}},dhtmlx.DataDriver.csv={toObject:function(t){return t},getRecords:function(t){return t.split(this.row)},getDetails:function(t){t=this.stringToArray(t);for(var e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{_size:0,_from:0}},stringToArray:function(t){t=t.split(this.cell);for(var e=0;e<t.length;e++)t[e]=t[e].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return t},row:"\n",cell:","},dhtmlx.DataDriver.xml={toObject:function(t,e){return e&&(e=this.checkResponse(t,e))?e:"string"==typeof t?this.fromString(t):t},getRecords:function(t){return this.xpath(t,this.records)},records:"/*/item",getDetails:function(t){return this.tagToObject(t,{})},getInfo:function(t){return{_size:t.documentElement.getAttribute("total_count")||0,_from:t.documentElement.getAttribute("pos")||0,_key:t.documentElement.getAttribute("dhx_security")}},xpath:function(t,e){if(window.XPathResult){var i=t;-1==t.nodeName.indexOf("document")&&(t=t.ownerDocument);for(var n=[],o=t.evaluate(e,i,null,XPathResult.ANY_TYPE,null),l=o.iterateNext();l;)n.push(l),l=o.iterateNext();return n}var s=!0;try{void 0===t.selectNodes&&(s=!1)}catch(d){}if(s)return t.selectNodes(e);var a=e.split("/").pop();return t.getElementsByTagName(a)},tagToObject:function(t,e){e=e||{};for(var i=!1,n=t.childNodes,o=0;o<n.length;o++)if(1==n[o].nodeType){var l=n[o].tagName;void 0!==e[l]?(e[l]instanceof Array||(e[l]=[e[l]]),e[l].push(this.tagToObject(n[o],{}))):e[n[o].tagName]=this.tagToObject(n[o],{}),i=!0}var s=t.attributes;if(s&&s.length){for(var o=0;o<s.length;o++)e[s[o].name]=s[o].value;i=!0}return i?(e.value=this.nodeValue(t),e):this.nodeValue(t)},nodeValue:function(t){return t.firstChild?t.firstChild.wholeText||t.firstChild.data:""},fromString:function(t){if(window.DOMParser&&!dhtmlx._isIE)return(new DOMParser).parseFromString(t,"text/xml");if(window.ActiveXObject){var e=new ActiveXObject("Microsoft.xmlDOM");return e.loadXML(t),e}dhtmlx.error("Load from xml string is not supported")},checkResponse:function(t,e){if(e&&e.firstChild&&"parsererror"!=e.firstChild.tagName)return e;var i=this.fromString(t.replace(/^[\s]+/,""));return i?i:void dhtmlx.error("xml can't be parsed",t)}},dhtmlx.DataLoader={_init:function(t){t=t||"",this.name="DataStore",this.data=t.datastore||new dhtmlx.DataStore,this._readyHandler=this.data.attachEvent("onStoreLoad",dhtmlx.bind(this._call_onready,this))},load:function(t){dhtmlx.AtomDataLoader.load.apply(this,arguments),this.data.feed||(this.data.feed=function(e,i){return this._load_count?this._load_count=[e,i]:(this._load_count=!0,void this.load(t+(-1==t.indexOf("?")?"?":"&")+"posStart="+e+"&count="+i,function(){var t=this._load_count;this._load_count=!1,"object"==typeof t&&this.data.feed.apply(this,t)}))})},_onLoad:function(t,e){this.data._parse(this.data.driver.toObject(t,e)),this.callEvent("onXLE",[]),this._readyHandler&&(this.data.detachEvent(this._readyHandler),this._readyHandler=null)},dataFeed_setter:function(t){return this.data.attachEvent("onBeforeFilter",dhtmlx.bind(function(t,e){if(this._settings.dataFeed){var i={};if(!t&&!i)return;if("function"==typeof t){if(!e)return;t(e,i)}else i={text:e};this.clearAll();var n=this._settings.dataFeed;if("function"==typeof n)return n.call(this,e,i);var o=[];for(var l in i)o.push("dhx_filter["+l+"]="+encodeURIComponent(i[l]));return this.load(n+(n.indexOf("?")<0?"?":"&")+o.join("&"),this._settings.datatype),!1}},this)),t},_call_onready:function(){if(this._settings.ready){var t=dhtmlx.toFunctor(this._settings.ready);t&&t.call&&t.apply(this,arguments)}}},dhtmlx.DataStore=function(){this.name="DataStore",dhtmlx.extend(this,dhtmlx.EventSystem),this.setDriver("xml"),this.pull={},this.order=dhtmlx.toArray()},dhtmlx.DataStore.prototype={setDriver:function(t){dhtmlx.assert(dhtmlx.DataDriver[t],"incorrect DataDriver"),this.driver=dhtmlx.DataDriver[t]},_parse:function(t){this.callEvent("onParse",[this.driver,t]),this._filter_order&&this.filter();var e=this.driver.getInfo(t);e._key&&(dhtmlx.security_key=e._key);var i=this.driver.getRecords(t),n=1*(e._from||0);0===n&&this.order[0]&&(n=this.order.length);for(var o=0,l=0;l<i.length;l++){var s=this.driver.getDetails(i[l]),d=this.id(s);this.pull[d]||(this.order[o+n]=d,o++),this.pull[d]=s,this.extraParser&&this.extraParser(s),this._scheme&&(this._scheme.$init?this._scheme.$update(s):this._scheme.$update&&this._scheme.$update(s))}for(var l=0;l<e._size;l++)if(!this.order[l]){var d=dhtmlx.uid(),s={id:d,$template:"loading"};this.pull[d]=s,this.order[l]=d}this.callEvent("onStoreLoad",[this.driver,t]),this.refresh()},id:function(t){return t.id||(t.id=dhtmlx.uid())},changeId:function(t,e){dhtmlx.assert(this.pull[t],"Can't change id, for non existing item: "+t),this.pull[e]=this.pull[t],this.pull[e].id=e,this.order[this.order.find(t)]=e,this._filter_order&&(this._filter_order[this._filter_order.find(t)]=e),this.callEvent("onIdChange",[t,e]),this._render_change_id&&this._render_change_id(t,e)},get:function(t){return this.item(t)},set:function(t,e){return this.update(t,e)},item:function(t){return this.pull[t]},update:function(t,e){return this._scheme&&this._scheme.$update&&this._scheme.$update(e),this.callEvent("onBeforeUpdate",[t,e])===!1?!1:(this.pull[t]=e,void this.refresh(t))},refresh:function(t){this._skip_refresh||(t?this.callEvent("onStoreUpdated",[t,this.pull[t],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(t){this._skip_refresh=!0,t.call(this),this._skip_refresh=!1},getRange:function(t,e){if(t=t?this.indexById(t):this.startOffset||0,e?e=this.indexById(e):(e=Math.min(this.endOffset||1/0,this.dataCount()-1),0>e&&(e=0)),this.min&&(t=this.min),this.max&&(e=this.max),t>e){var i=e;e=t,t=i}return this.getIndexRange(t,e)},getIndexRange:function(t,e){e=Math.min(e||1/0,this.dataCount()-1);for(var i=dhtmlx.toArray(),n=t||0;e>=n;n++)i.push(this.item(this.order[n]));return i},dataCount:function(){return this.order.length},exists:function(t){return!!this.pull[t]},move:function(t,e){if(0>t||0>e)return void dhtmlx.error("DataStore::move","Incorrect indexes");var i=this.idByIndex(t),n=this.item(i);this.order.removeAt(t),this.order.insertAt(i,Math.min(this.order.length,e)),this.callEvent("onStoreUpdated",[i,n,"move"])},scheme:function(t){this._scheme=t},sync:function(t,e,i){"function"!=typeof e&&(i=e,e=null),dhtmlx.debug_bind&&(this.debug_sync_master=t,dhtmlx.log("[sync] "+this.debug_bind_master.name+"@"+this.debug_bind_master._settings.id+" <= "+this.debug_sync_master.name+"@"+this.debug_sync_master._settings.id));var n=t;"DataStore"!=t.name&&(t=t.data);var o=dhtmlx.bind(function(n,o,l){("update"!=l||e)&&(n=null),n||(this.order=dhtmlx.toArray([].concat(t.order)),this._filter_order=null,this.pull=t.pull,e&&this.silent(e),this._on_sync&&this._on_sync()),dhtmlx.debug_bind&&dhtmlx.log("[sync:request] "+this.debug_sync_master.name+"@"+this.debug_sync_master._settings.id+" <= "+this.debug_bind_master.name+"@"+this.debug_bind_master._settings.id),i?i=!1:this.refresh(n)},this);t.attachEvent("onStoreUpdated",o),this.feed=function(t,e){n.loadNext(e,t)},o()},add:function(t,e){if(this._scheme){t=t||{};for(var i in this._scheme)t[i]=t[i]||this._scheme[i];this._scheme&&(this._scheme.$init?this._scheme.$update(t):this._scheme.$update&&this._scheme.$update(t))}var n=this.id(t),o=this.dataCount();if((dhtmlx.isNotDefined(e)||0>e)&&(e=o),e>o&&(dhtmlx.log("Warning","DataStore:add","Index of out of bounds"),e=Math.min(this.order.length,e)),this.callEvent("onBeforeAdd",[n,t,e])===!1)return!1;if(this.exists(n))return dhtmlx.error("Not unique ID");if(this.pull[n]=t,this.order.insertAt(n,e),this._filter_order){var l=this._filter_order.length;!e&&this.order.length&&(l=0),this._filter_order.insertAt(n,l)}return this.callEvent("onafterAdd",[n,e]),this.callEvent("onStoreUpdated",[n,t,"add"]),n},remove:function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.remove(t[e]);else{if(this.callEvent("onBeforeDelete",[t])===!1)return!1;if(!this.exists(t))return dhtmlx.error("Not existing ID",t);var i=this.item(t);this.order.remove(t),this._filter_order&&this._filter_order.remove(t),delete this.pull[t],this.callEvent("onafterdelete",[t]),this.callEvent("onStoreUpdated",[t,i,"delete"])}},clearAll:function(){this.pull={},this.order=dhtmlx.toArray(),this.feed=null,this._filter_order=null,this.callEvent("onClearAll",[]),this.refresh()},idByIndex:function(t){return(t>=this.order.length||0>t)&&dhtmlx.log("Warning","DataStore::idByIndex Incorrect index"),this.order[t]},indexById:function(t){var e=this.order.find(t);return e},next:function(t,e){return this.order[this.indexById(t)+(e||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(t,e){return this.order[this.indexById(t)-(e||1)]},sort:function(t,e,i){var n=t;"function"==typeof t?n={as:t,dir:e}:"string"==typeof t&&(n={by:t,dir:e,as:i});var o=[n.by,n.dir,n.as];if(this.callEvent("onbeforesort",o)){if(this.order.length){var l=dhtmlx.sort.create(n),s=this.getRange(this.first(),this.last());s.sort(l),this.order=s.map(function(t){return this.id(t)},this)}this.refresh(),this.callEvent("onaftersort",o)}},filter:function(t,e){if(this.callEvent("onBeforeFilter",[t,e])&&(this._filter_order&&(this.order=this._filter_order,delete this._filter_order),this.order.length)){if(t){var i=t;e=e||"","string"==typeof t&&(t=dhtmlx.Template.fromHTML(t),e=(""+e).toLowerCase(),i=function(e,i){return-1!=t(e).toLowerCase().indexOf(i)});for(var n=dhtmlx.toArray(),o=0;o<this.order.length;o++){var l=this.order[o];i(this.item(l),e)&&n.push(l)}this._filter_order=this.order,this.order=n}this.refresh(),this.callEvent("onAfterFilter",[])}},each:function(t,e){for(var i=0;i<this.order.length;i++)t.call(e||this,this.item(this.order[i]))},provideApi:function(t,e){this.debug_bind_master=t,e&&this.mapEvent({onbeforesort:t,onaftersort:t,onbeforeadd:t,onafteradd:t,onbeforedelete:t,onafterdelete:t,onbeforeupdate:t});for(var i=["get","set","sort","add","remove","exists","idByIndex","indexById","item","update","refresh","dataCount","filter","next","previous","clearAll","first","last","serialize"],n=0;n<i.length;n++)t[i[n]]=dhtmlx.methodPush(this,i[n]);dhtmlx.assert_enabled()&&this.assert_event(t)},serialize:function(){for(var t=this.order,e=[],i=0;i<t.length;i++)e.push(this.pull[t[i]]);return e}},dhtmlx.sort={create:function(t){return dhtmlx.sort.dir(t.dir,dhtmlx.sort.by(t.by,t.as))},as:{"int":function(t,e){return t=1*t,e=1*e,t>e?1:e>t?-1:0},string_strict:function(t,e){return t=""+t,e=""+e,t>e?1:e>t?-1:0},string:function(t,e){return t=(""+t).toLowerCase(),e=(""+e).toLowerCase(),t>e?1:e>t?-1:0}},by:function(t,e){return t?("function"!=typeof e&&(e=dhtmlx.sort.as[e||"string"]),t=dhtmlx.Template.fromHTML(t),function(i,n){return e(t(i),t(n))}):e},dir:function(t,e){return"asc"==t?e:function(t,i){return-1*e(t,i)}}},dhtmlx.KeyEvents={_init:function(){dhtmlx.event(this._obj,"keypress",this._onKeyPress,this)},_onKeyPress:function(t){t=t||event;var e=t.which||t.keyCode;this.callEvent(this._edit_id?"onEditKeyPress":"onKeyPress",[e,t.ctrlKey,t.shiftKey,t])}},dhtmlx.MouseEvents={_init:function(){this.on_click&&(dhtmlx.event(this._obj,"click",this._onClick,this),dhtmlx.event(this._obj,"contextmenu",this._onContext,this)),this.on_dblclick&&dhtmlx.event(this._obj,"dblclick",this._onDblClick,this),this.on_mouse_move&&(dhtmlx.event(this._obj,"mousemove",this._onMouse,this),dhtmlx.event(this._obj,dhtmlx._isIE?"mouseleave":"mouseout",this._onMouse,this))},_onClick:function(t){return this._mouseEvent(t,this.on_click,"ItemClick")},_onDblClick:function(t){return this._mouseEvent(t,this.on_dblclick,"ItemDblClick")},_onContext:function(t){var e=dhtmlx.html.locate(t,this._id);return e&&!this.callEvent("onBeforeContextMenu",[e,t])?dhtmlx.html.preventEvent(t):void 0},_onMouse:function(t){dhtmlx._isIE&&(t=document.createEventObject(event)),this._mouse_move_timer&&window.clearTimeout(this._mouse_move_timer),this.callEvent("onMouseMoving",[t]),this._mouse_move_timer=window.setTimeout(dhtmlx.bind(function(){"mousemove"==t.type?this._onMouseMove(t):this._onMouseOut(t)},this),500)},_onMouseMove:function(t){this._mouseEvent(t,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[t||event])},_onMouseOut:function(t){this.callEvent("onMouseOut",[t||event])},_mouseEvent:function(t,e,i){t=t||event;for(var n=t.target||t.srcElement,o="",l=null,s=!1;n&&n.parentNode;){if(!s&&n.getAttribute&&(l=n.getAttribute(this._id))){if(n.getAttribute("userdata")&&this.callEvent("onLocateData",[l,n,t]),!this.callEvent("on"+i,[l,t,n]))return;s=!0}if(o=n.className,o&&(o=o.split(" "),o=o[0]||o[1],e[o]))return e[o].call(this,t,l||dhtmlx.html.locate(t,this._id),n);n=n.parentNode}return s}},dhtmlx.Settings={_init:function(){this._settings=this.config={}},define:function(t,e){return"object"==typeof t?this._parseSeetingColl(t):this._define(t,e)},_define:function(t,e){dhtmlx.assert_settings.call(this,t,e);var i=this[t+"_setter"];return this._settings[t]=i?i.call(this,e):e},_parseSeetingColl:function(t){if(t)for(var e in t)this._define(e,t[e])},_parseSettings:function(t,e){var i=dhtmlx.extend({},e);"object"!=typeof t||t.tagName||dhtmlx.extend(i,t),this._parseSeetingColl(i)},_mergeSettings:function(t,e){for(var i in e)switch(typeof t[i]){case"object":t[i]=this._mergeSettings(t[i]||{},e[i]);break;case"undefined":t[i]=e[i]}return t},_parseContainer:function(t,e,i){"object"!=typeof t||t.tagName||(t=t.container),this._obj=this.$view=dhtmlx.toNode(t),!this._obj&&i&&(this._obj=i(t)),dhtmlx.assert(this._obj,"Incorrect html container"),this._obj.className+=" "+e,this._obj.onselectstart=function(){return!1},this._dataobj=this._obj},_set_type:function(t){return"object"==typeof t?this.type_setter(t):(dhtmlx.assert(this.types,"RenderStack :: Types are not defined"),dhtmlx.assert(this.types[t],"RenderStack :: Inccorect type name",t),this.type=dhtmlx.extend({},this.types[t]),void this.customize())},customize:function(t){t&&dhtmlx.extend(this.type,t),this.type._item_start=dhtmlx.Template.fromHTML(this.template_item_start(this.type)),this.type._item_end=this.template_item_end(this.type),this.render()},type_setter:function(t){return this._set_type("object"==typeof t?dhtmlx.Type.add(this,t):t),t},template_setter:function(t){return this.type_setter({template:t})},css_setter:function(t){return this._obj.className+=" "+t,t}},dhtmlx.Template={_cache:{},empty:function(){return""},setter:function(t){return dhtmlx.Template.fromHTML(t)},obj_setter:function(t){var e=dhtmlx.Template.setter(t),i=this;return function(){return e.apply(i,arguments)}},fromHTML:function(t){return"function"==typeof t?t:this._cache[t]?this._cache[t]:(t=""+(t||""),t=t.replace(/[\r\n]+/g,"\\n"),t=t.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"'),t=t.replace(/\{common\.([^}\(]*)\}/g,'"+common.$1+"'),t=t.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1(obj):"")+"'),t=t.replace(/\{obj\.([^}]*)\}/g,'"+obj.$1+"'),t=t.replace(/#([a-z0-9_]+)#/gi,'"+obj.$1+"'),t=t.replace(/\{obj\}/g,'"+obj+"'),t=t.replace(/\{-obj/g,"{obj"),t=t.replace(/\{-common/g,"{common"),t='return "'+t+'";',this._cache[t]=Function("obj","common",t))}},dhtmlx.Type={add:function(t,e){!t.types&&t.prototype.types&&(t=t.prototype),dhtmlx.assert_enabled()&&this.assert_event(e);var i=e.name||"default";return this._template(e),this._template(e,"edit"),this._template(e,"loading"),t.types[i]=dhtmlx.extend(dhtmlx.extend({},t.types[i]||this._default),e),i},_default:{css:"default",template:function(){return""},template_edit:function(){return""},template_loading:function(){return"..."},width:150,height:80,margin:5,padding:0},_template:function(t,e){e="template"+(e?"_"+e:"");var i=t[e];if(i&&"string"==typeof i){if(-1!=i.indexOf("->"))switch(i=i.split("->"),i[0]){case"html":i=dhtmlx.html.getValue(i[1]).replace(/\"/g,'\\"');break;case"http":i=(new dhtmlx.ajax).sync().get(i[1],{uid:(new Date).valueOf()}).responseText}t[e]=dhtmlx.Template.fromHTML(i)}}},dhtmlx.SingleRender={_init:function(){},_toHTML:function(t){return this.type._item_start(t,this.type)+this.type.template(t,this.type)+this.type._item_end},render:function(){(!this.callEvent||this.callEvent("onBeforeRender",[this.data]))&&(this.data&&(this._dataobj.innerHTML=this._toHTML(this.data)),this.callEvent&&this.callEvent("onAfterRender",[]))}},dhtmlx.ui.Tooltip=function(t){this.name="Tooltip",dhtmlx.assert_enabled()&&this._assert(),"string"==typeof t&&(t={template:t}),dhtmlx.extend(this,dhtmlx.Settings),dhtmlx.extend(this,dhtmlx.SingleRender),this._parseSettings(t,{type:"default",dy:0,dx:20}),this._dataobj=this._obj=document.createElement("DIV"),this._obj.className="dhx_tooltip",dhtmlx.html.insertBefore(this._obj,document.body.firstChild)},dhtmlx.ui.Tooltip.prototype={show:function(t,e){this._disabled||(this.data!=t&&(this.data=t,this.render(t)),this._obj.style.top=e.y+this._settings.dy+"px",this._obj.style.left=e.x+this._settings.dx+"px",this._obj.style.display="block")},hide:function(){this.data=null,this._obj.style.display="none"},disable:function(){this._disabled=!0},enable:function(){this._disabled=!1},types:{"default":dhtmlx.Template.fromHTML("{obj.id}")},template_item_start:dhtmlx.Template.empty,template_item_end:dhtmlx.Template.empty},dhtmlx.AutoTooltip={tooltip_setter:function(t){var e=new dhtmlx.ui.Tooltip(t);return this.attachEvent("onMouseMove",function(t,i){e.show(this.get(t),dhtmlx.html.pos(i))}),this.attachEvent("onMouseOut",function(){e.hide()}),this.attachEvent("onMouseMoving",function(){e.hide()}),e}},dhtmlx.compat=function(t,e){dhtmlx.compat[t]&&dhtmlx.compat[t](e)},dhtmlx.attaches||(dhtmlx.attaches={}),dhtmlx.attaches.attachAbstract=function(t,e){var i=document.createElement("DIV");i.id="CustomObject_"+dhtmlx.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),e.container=i.id;var n=this.vs[this.av];n.grid=new window[t](e),n.gridId=i.id,n.gridObj=i,n.grid.setSizes=function(){this.resize?this.resize():this.render()};var o="_viewRestore";return this.vs[this[o]()].grid},dhtmlx.attaches.attachDataView=function(t){return this.attachAbstract("dhtmlXDataView",t)},dhtmlx.attaches.attachChart=function(t){return this.attachAbstract("dhtmlXChart",t)},dhtmlx.compat.layout=function(){},dhtmlXForm.prototype.getInput=function(t){return this.doWithItem(t,"getInput")},dhtmlXForm.prototype.getSelect=function(t){return this.doWithItem(t,"getSelect")},dhtmlXForm.prototype.items={},dhtmlXForm.prototype.items.checkbox={render:function(t,e){t._type="ch",t._enabled=!0,t._checked=!1,t._value=void 0===e.value?null:e.value+"",t._ro=1==e.readonly,e._autoInputWidth!==!1&&(e.inputWidth=14),this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea"),t.childNodes[t._ll?1:0].className+=" dhxform_img_node";var i=document.createElement("DIV");return i.className="dhxform_img chbx0",t.appendChild(i),isNaN(e.inputLeft)||(t.childNodes[t._ll?1:0].style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.childNodes[t._ll?1:0].style.top=parseInt(e.inputTop)+"px"),t.childNodes[t._ll?1:0].appendChild(i),t.childNodes[t._ll?1:0].firstChild.value=e.value+"",t._updateImgNode=function(t,e){var i=t.childNodes[t._ll?1:0].lastChild;i.className=(e?"dhxform_actv_c":"dhxform_img")+" "+(t._checked?"chbx1":"chbx0"),t=i=null},t._doOnFocus=function(t){t.getForm().callEvent("onFocus",[t._idd])},t._doOnBlur=function(t){t.getForm().callEvent("onBlur",[t._idd])},t._doOnKeyUpDown=function(t,e){this.callEvent(t,[this.childNodes[this._ll?0:1].childNodes[0],e,this._idd])},1==e.checked&&this.check(t),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this.doAttachEvents(t),this},destruct:function(t){t._doOnFocus=t._doOnBlur=t._updateImgNode=null,this.doUnloadNestedLists(t),this.doDestruct(t)},doAddLabel:function(t,e){var i=document.createElement("DIV");i.className="dhxform_label "+e.labelAlign,1==e.wrap&&(i.style.whiteSpace="normal"),t._ll?t.insertBefore(i,t.firstChild):t.appendChild(i),void 0!==e.tooltip&&(i.title=e.tooltip),i.innerHTML="<div class='dhxform_label_nav_link' onfocus='if(this.parentNode.parentNode._updateImgNode)this.parentNode.parentNode._updateImgNode(this.parentNode.parentNode,true);this.parentNode.parentNode._doOnFocus(this.parentNode.parentNode);' onblur='if(this.parentNode.parentNode._updateImgNode)this.parentNode.parentNode._updateImgNode(this.parentNode.parentNode,false);this.parentNode.parentNode._doOnBlur(this.parentNode.parentNode);' onkeypress='var e=event||window.arguments[0];if(e.keyCode==32||e.charCode==32){e.cancelBubble=true;if(e.preventDefault)e.preventDefault();else e.returnValue=false;_dhxForm_doClick(this,\"mousedown\");return false;}' onkeyup='var e=event||window.arguments[0];this.parentNode.parentNode._doOnKeyUpDown(\"onKeyUp\",e);' onkeydown='var e=event||window.arguments[0];this.parentNode.parentNode._doOnKeyUpDown(\"onKeyDown\",e);' "+(window.dhx4.isIPad?"ontouchstart='var e=event;e.preventDefault();_dhxForm_doClick(this,\"mousedown\");' ":"")+"role='link' tabindex='0'>"+e.label+(e.info?"<span class='dhxform_info'>[?]</span>":"")+(t._required?"<span class='dhxform_item_required'>*</span>":"")+"</div>",isNaN(e.labelWidth)||(i.firstChild.style.width=parseInt(e.labelWidth)+"px"),isNaN(e.labelHeight)||(i.firstChild.style.height=parseInt(e.labelHeight)+"px"),isNaN(e.labelLeft)||(i.style.left=parseInt(e.labelLeft)+"px"),isNaN(e.labelTop)||(i.style.top=parseInt(e.labelTop)+"px")
},doAddInput:function(t,e,i,n,o,l,s){var d=document.createElement("DIV");d.className="dhxform_control",t._ll?t.appendChild(d):t.insertBefore(d,t.firstChild);var a=document.createElement(i);a.className=s,a.name=t._idd,a._idd=t._idd,a.id=e.uid,"string"==typeof n&&(a.type=n),("INPUT"==i||"TEXTAREA"==i)&&(a.onkeyup=function(e){e=e||event,t.callEvent("onKeyUp",[this,e,this._idd])},a.onkeydown=function(e){e=e||event,t.callEvent("onKeyDown",[this,e,this._idd])}),"SELECT"==i&&"select"==e.type&&"material"==t.getForm().skin&&(window.dhx4.isOpera||window.dhx4.isChrome?a.className+=" dhxform_arrow_fix_webkit":window.dhx4.isEdge?a.className+=" dhxform_arrow_fix_edge":window.dhx4.isFF&&(a.className+=" dhxform_fix_ff")),d.appendChild(a),o&&(isNaN(e.inputLeft)||(d.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(d.style.top=parseInt(e.inputTop)+"px"));var r="",h=!1;l&&(isNaN(e.inputWidth)||(r+="width:"+parseInt(e.inputWidth)+"px;",h=!0),isNaN(e.inputHeight)||(r+="height:"+parseInt(e.inputHeight)+"px;")),"string"==typeof e.style&&(r+=e.style),a.style.cssText=r,e.maxLength&&a.setAttribute("maxLength",e.maxLength),e.connector&&a.setAttribute("connector",e.connector);var u=null!=dhtmlXForm.prototype.items[this.t]?1==dhtmlXForm.prototype.items[this.t]._dimFix:!1;if(h&&(1=={input:1,password:1,select:1,multiselect:1,calendar:1,colorpicker:1}[this.t]||u)&&(null==dhtmlXForm.prototype.items[this.t]._dim&&(dhtmlXForm.prototype.items[this.t]._dim=t.getForm()._checkDim(d,a)),a.style.width=parseInt(a.style.width)-dhtmlXForm.prototype.items[this.t]._dim+"px"),"object"==typeof e.note){var c=document.createElement("DIV");c.className="dhxform_note",c.style.width=(isNaN(e.note.width)?a.offsetWidth:parseInt(e.note.width))+"px",c._w=e.note.width,c.innerHTML=e.note.text,d.appendChild(c),c=null}e.readonly&&this.setReadonly(t,!0),1==e.disabled&&this.userDisable(t),1==e.hidden&&"combo"!=this.t&&this.hide(t)},doUnloadNestedLists:function(t){if(t._list){for(var e=0;e<t._list.length;e++)t._list[e].unload(),t._list[e]=null,t._listObj[e]=null,t._listBase[e].parentNode.removeChild(t._listBase[e]),t._listBase[e]=null;t._list=null,t._listObj=null,t._listBase=null}},doDestruct:function(t){for(t.callEvent=null,t.checkEvent=null,t.getForm=null,t._autoCheck=null,t._checked=null,t._enabled=null,t._idd=null,t._type=null,t._value=null,t._group=null,t.onselectstart=null,t.childNodes[t._ll?1:0].onmousedown=null,t.childNodes[t._ll?1:0].ontouchstart=null,t.childNodes[t._ll?0:1].onmousedown=null,t.childNodes[t._ll?0:1].ontouchstart=null,t.childNodes[t._ll?0:1].childNodes[0].onfocus=null,t.childNodes[t._ll?0:1].childNodes[0].onblur=null,t.childNodes[t._ll?0:1].childNodes[0].onkeypress=null,t.childNodes[t._ll?0:1].childNodes[0].onkeyup=null,t.childNodes[t._ll?0:1].childNodes[0].onkeydown=null,t.childNodes[t._ll?0:1].childNodes[0].onmousedown=null,t.childNodes[t._ll?0:1].childNodes[0].ontouchstart=null,t.childNodes[t._ll?0:1].removeChild(t.childNodes[t._ll?0:1].childNodes[0]);t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},doAttachEvents:function(t){var e=this;t.childNodes[t._ll?1:0][window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(t){t=t||event,t.preventDefault&&t.preventDefault();var i=t.target||t.srcElement;return!this.parentNode._enabled||this.parentNode._ro||void 0!==i.className&&"dhxform_note"==i.className?(t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1):void e.doClick(this.parentNode)},t.childNodes[t._ll?0:1].childNodes[0][window.dhx4.isIPad?"ontouchstart":"onmousedown"]=function(t){if(t=t||event,t.preventDefault&&t.preventDefault(),!this.parentNode.parentNode._enabled)return t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1;var i=t.target||t.srcElement;return void 0!==i.className&&"dhxform_info"==i.className?(this.parentNode.parentNode.callEvent("onInfo",[this.parentNode.parentNode._idd,t]),t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1):void e.doClick(this.parentNode.parentNode)}},doClick:function(t){t.childNodes[t._ll?0:1].childNodes[0].focus(),t._enabled&&!t._ro&&(t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,t._checked])!==!0||(this.setChecked(t,!t._checked),t._autoCheck(),t.callEvent("onChange",[t._idd,t._value,t._checked])))},doCheckValue:function(t){t._checked&&t._enabled?(t.childNodes[t._ll?1:0].firstChild.name=t._idd+"",t.childNodes[t._ll?1:0].firstChild.value=this.getValue(t)):(t.childNodes[t._ll?1:0].firstChild.name="",t.childNodes[t._ll?1:0].firstChild.value="")},setChecked:function(t,e){t._checked=e===!0?!0:!1,t.childNodes[t._ll?1:0].lastChild.className=t.childNodes[t._ll?1:0].lastChild.className.replace(/chbx[0-1]{1}/gi,"")+(t._checked?" chbx1":" chbx0"),this.doCheckValue(t)},check:function(t){this.setChecked(t,!0)},unCheck:function(t){this.setChecked(t,!1)},isChecked:function(t){return t._checked},enable:function(t){(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t._enabled=!0,t.childNodes[t._ll?0:1].childNodes[0].tabIndex=0,t.childNodes[t._ll?0:1].childNodes[0].removeAttribute("disabled"),this.doCheckValue(t)},disable:function(t){(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,null!=t._updateImgNode&&t._updateImgNode(t,!1),t.childNodes[t._ll?0:1].childNodes[0].tabIndex=-1,t.childNodes[t._ll?0:1].childNodes[0].setAttribute("disabled","true"),this.doCheckValue(t)},isEnabled:function(t){return t._enabled},setText:function(t,e){t.childNodes[t._ll?0:1].childNodes[0].innerHTML=e+(t._required?"<span class='dhxform_item_required'>*</span>":"")},getText:function(t){return t.childNodes[t._ll?0:1].childNodes[0].innerHTML.replace(/<span class=\"dhxform_item_required\">[^<]*<\/span>/g,"")},setValue:function(t,e){this.setChecked(t,e===!0||1==parseInt(e)||"true"==e||t._value===e)},getValue:function(t,e){return"realvalue"==e?t._value:void 0===t._value||null==t._value?t._checked?1:0:t._value},setReadonly:function(t,e){t._ro=e===!0},isReadonly:function(t){return t._ro},setFocus:function(t){t.childNodes[t._ll?0:1].childNodes[0].focus()}},dhtmlXForm.prototype.items.radio={input:{},r:{},firstValue:{},render:function(t,e,i){t._type="ra",t._enabled=!0,t._checked=!1,t._group=e.name,t._value=e.value,t._uid=i,t._ro=1==e.readonly,t._rName=t._rId+t._group,this.r[t._idd]=t,e.inputWidth=14,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea"),t.childNodes[t._ll?1:0].className+=" dhxform_img_node";var n=document.createElement("DIV");if(n.className="dhxform_img rdbt0",t.appendChild(n),isNaN(e.inputLeft)||(t.childNodes[t._ll?1:0].style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.childNodes[t._ll?1:0].style.top=parseInt(e.inputTop)+"px"),t.childNodes[t._ll?1:0].appendChild(n),t.childNodes[t._ll?1:0].firstChild.name="",t.childNodes[t._ll?1:0].firstChild.value="",t._updateImgNode=function(t,e){var i=t.childNodes[t._ll?1:0].lastChild;i.className=(e?"dhxform_actv_r":"dhxform_img")+" "+(t._checked?"rdbt1":"rdbt0"),t=i=null},t._doOnFocus=function(t){t.getForm().callEvent("onFocus",[t._group,t._value])},t._doOnBlur=function(t){t.getForm().callEvent("onBlur",[t._group,t._value])},t._doOnKeyUpDown=function(t,e){this.callEvent(t,[this.childNodes[this._ll?0:1].childNodes[0],e,this._group,this._value])},null==this.input[t._rName]){var o=document.createElement("INPUT");o.type="HIDDEN",o.name=e.name,o.firstValue=t._value,t.appendChild(o),this.input[t._rName]=o}return this.firstValue[t._rName]||(this.firstValue[t._rName]=e.value),1==e.checked&&this.check(t),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this.doAttachEvents(t),this},destruct:function(t){if(t.lastChild==this.input[t._rName]){var e=!1;for(var i in this.r)e||this.r[i]._group!=t._group||this.r[i]._idd==t._idd||(this.r[i].appendChild(this.input[t._rName]),e=!0);e||(this.input[t._rName].parentNode.removeChild(this.input[t._rName]),this.input[t._rName]=null,this.firstValue[t._rName]=null)}this.r[t._idd]=null,delete this.r[t._idd],t._doOnFocus=t._doOnBlur=t._updateImgNode=null,this.doUnloadNestedLists(t),this.doDestruct(t);var n=t._idd;return t=null,n},doClick:function(t){if(t.childNodes[t._ll?0:1].childNodes[0].focus(),t._enabled&&!t._checked&&!t._ro){var e=[t._group,t._value,!0];t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",e)!==!0||(this.setChecked(t,!0),t.getForm()._autoCheck(),t.callEvent("onChange",e))}},doCheckValue:function(t){var e=null;for(var i in this.r)this.r[i]._checked&&this.r[i]._group==t._group&&this.r[i]._rId==t._rId&&(e=this.r[i]._value);null!=e&&this.r[i]._enabled?(this.input[t._rName].name=t._group+"",this.input[t._rName].value=e):(this.input[t._rName].name="",this.input[t._rName].value=""),this.input[t._rName]._value=e},setChecked:function(t,e){e=e===!0;for(var i in this.r)if(this.r[i]._group==t._group&&this.r[i]._rId==t._rId){var n=!1;if(this.r[i]._idd==t._idd?this.r[i]._checked!=e&&(this.r[i]._checked=e,n=!0):this.r[i]._checked&&(this.r[i]._checked=!1,n=!0),n){var o=this.r[i].childNodes[this.r[i]._ll?1:0].childNodes[1];o.className=o.className.replace(/rdbt[0-1]{1}/gi,"")+(this.r[i]._checked?" rdbt1":" rdbt0"),o=null}}this.doCheckValue(t)},getChecked:function(t){return this.input[t._rName]._value},_getFirstValue:function(t){return this.firstValue[t._rName]},_getId:function(t){return t._idd},setValue:function(){}},function(){for(var t in{doAddLabel:1,doAddInput:1,doDestruct:1,doUnloadNestedLists:1,doAttachEvents:1,check:1,unCheck:1,isChecked:1,enable:1,disable:1,isEnabled:1,setText:1,getText:1,getValue:1,setReadonly:1,isReadonly:1,setFocus:1})dhtmlXForm.prototype.items.radio[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.select={render:function(t,e){return t._type="se",t._enabled=!0,t._value=null,t._newValue=null,this.doAddLabel(t,e),this.doAddInput(t,e,"SELECT",null,!0,!0,"dhxform_select"),this.doAttachEvents(t),this.doLoadOpts(t,e),null!=e.connector&&this.doLoadOptsConnector(t,e.connector),void 0!==e.value&&null!=e.value&&this.setValue(t,e.value),this},destruct:function(t){for(this.doUnloadNestedLists(t),t.callEvent=null,t.checkEvent=null,t.getForm=null,t._autoCheck=null,t._enabled=null,t._idd=null,t._type=null,t._value=null,t._newValue=null,t.onselectstart=null,t.childNodes[t._ll?1:0].childNodes[0].onclick=null,t.childNodes[t._ll?1:0].childNodes[0].onkeydown=null,t.childNodes[t._ll?1:0].childNodes[0].onchange=null,t.childNodes[t._ll?1:0].childNodes[0].onfocus=null,t.childNodes[t._ll?1:0].childNodes[0].onblur=null,t.childNodes[t._ll?1:0].childNodes[0].onkeyup=null,t.childNodes[t._ll?1:0].removeChild(t.childNodes[t._ll?1:0].childNodes[0]);t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},doAddLabel:function(t,e){var i=document.createElement("DIV");i.className="dhxform_label "+e.labelAlign,i.innerHTML="<label for='"+e.uid+"'>"+e.label+(e.info?"<span class='dhxform_info'>[?]</span>":"")+(t._required?"<span class='dhxform_item_required'>*</span>":"")+"</label>",1==e.wrap&&(i.style.whiteSpace="normal"),void 0!==e.tooltip&&(i.title=e.tooltip),t.appendChild(i),(void 0===e.label||null==e.label||0==e.label.length)&&(i.style.display="none"),isNaN(e.labelWidth)||(i.style.width=parseInt(e.labelWidth)+"px"),isNaN(e.labelHeight)||(i.style.height=parseInt(e.labelHeight)+"px"),isNaN(e.labelLeft)||(i.style.left=parseInt(e.labelLeft)+"px"),isNaN(e.labelTop)||(i.style.top=parseInt(e.labelTop)+"px"),e.info&&(i.onclick=function(t){t=t||event;var e=t.target||t.srcElement;return void 0!==e.className&&"dhxform_info"==e.className?(this.parentNode.callEvent("onInfo",[this.parentNode._idd,t]),t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1):void 0})},doAttachEvents:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0],i=this;e.onclick=function(){i.doOnChange(this)},e.onkeydown=function(t){t=t||event,i.doOnChange(this),this.parentNode.parentNode.callEvent("onKeyDown",[this,t,this.parentNode.parentNode._idd])},e.onchange=function(){i.doOnChange(this)},e.onkeyup=function(t){t=t||event,this.parentNode.parentNode.callEvent("onKeyUp",[this,t,this.parentNode.parentNode._idd])},e=null,this.doAttachChangeLS(t)},doAttachChangeLS:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0];e.onfocus=function(){var t=this.parentNode.parentNode;t.getForm()._ccActivate(t._idd,this,t.getForm().getItemValue(t._idd,!0)),t.getForm().callEvent("onFocus",[t._idd]),t=null},e.onblur=function(){var t=this.parentNode.parentNode;t.getForm()._ccDeactivate(t._idd),t.getForm().callEvent("onBlur",[t._idd]),t=null},e=null},doValidate:function(t){t.getForm().live_validate&&this._validate(t)},doLoadOpts:function(t,e,i){for(var n=t.childNodes[t._ll?1:0].childNodes[0],o=e.options,l=!1,s=0;s<o.length;s++){var d=o[s].text||o[s].label;d&&void 0!==d||(d="");var a=new Option(d,o[s].value);"string"==typeof o[s].img_src&&a.setAttribute("img_src",o[s].img_src),n.options.add(a),void 0!==o[s].selected&&1==window.dhx4.s2b(o[s].selected)&&(a.selected=!0,t._value=o[s].value,l=!0),void 0!==o[s].checked&&1==window.dhx4.s2b(o[s].checked)&&a.setAttribute("checked","1"),void 0!==o[s].img&&a.setAttribute("img",o[s].img),void 0!==o[s].img_dis&&a.setAttribute("img_dis",o[s].img_dis),void 0!==o[s].css&&a.setAttribute("css",o[s].css)}l||n.selectedIndex<0||(t._value=n.options[n.selectedIndex].value),i===!0&&t.callEvent("onOptionsLoaded",[t._idd]),this._checkNoteWidth(t)},doLoadOptsConnector:function(t,e){var i=this;t._connector_working=!0,window.dhx4.ajax.get(e,function(e){if(e=e.xmlDoc.responseXML,null!=e){var n=e.getElementsByTagName("data");if(null!=n&&null!=n[0]){n=n[0];for(var o=[],l=0;l<n.childNodes.length;l++)if(void 0!==n.childNodes[l].tagName&&"item"==(n.childNodes[l].tagName+"").toLowerCase()){var s=n.childNodes[l];o.push({label:s.getAttribute("label"),value:s.getAttribute("value"),selected:null!=s.getAttribute("selected")}),s=null}i.doLoadOpts(t,{options:o},!0),t._connector_working=!1,null!=t._connector_value&&(i.setValue(t,t._connector_value),t._connector_value=null),i=t=null}}})},doOnChange:function(t){var e=t.parentNode.parentNode;if(e._newValue=t.selectedIndex<0?null:t.options[t.selectedIndex].value,e._newValue!=e._value){if(e.checkEvent("onBeforeChange")&&e.callEvent("onBeforeChange",[e._idd,e._value,e._newValue])!==!0){for(var i=0;i<t.options.length;i++)t.options[i].value==e._value&&(t.options[i].selected=!0);return}e._value=e._newValue,e.callEvent("onChange",[e._idd,e._value]),"se"==e._type&&e.getForm().live_validate&&this._validate(e)}e._autoCheck()},setText:function(t,e){e||(e=""),t.childNodes[t._ll?0:1].childNodes[0].innerHTML=e+(t._required?"<span class='dhxform_item_required'>*</span>":""),t.childNodes[t._ll?0:1].style.display=0==e.length||null==e?"none":""},getText:function(t){return t.childNodes[t._ll?0:1].childNodes[0].innerHTML.replace(/<span class=\"dhxform_item_required\">[^<]*<\/span>/g,"")},enable:function(t){(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t._enabled=!0,t.childNodes[t._ll?1:0].childNodes[0].removeAttribute("disabled")},disable:function(t){(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,t.childNodes[t._ll?1:0].childNodes[0].setAttribute("disabled",!0)},getOptions:function(t){return t.childNodes[t._ll?1:0].childNodes[0].options},setValue:function(t,e){if(t._connector_working)return void(t._connector_value=e);for(var i=this.getOptions(t),n=0;n<i.length;n++)i[n].value==e&&(i[n].selected=!0,t._value=i[n].value);null!=t._list&&t._list.length>0&&t.getForm()._autoCheck(),t.getForm()._ccReload(t._idd,t._value)},getValue:function(t){for(var e=-1,i=this.getOptions(t),n=0;n<i.length;n++)i[n].selected&&(e=i[n].value);return e},setWidth:function(t,e){t.childNodes[t._ll?1:0].childNodes[0].style.width=e+"px"},getSelect:function(t){return t.childNodes[t._ll?1:0].childNodes[0]},setFocus:function(t){t.childNodes[t._ll?1:0].childNodes[0].focus()},_checkNoteWidth:function(t){var e;null!=t.childNodes[t._ll?1:0].childNodes[1]&&(e=t.childNodes[t._ll?1:0].childNodes[1],null==e.className||e.className.search(/dhxform_note/gi)<0||"auto"!=e._w||(e.style.width=t.childNodes[t._ll?1:0].childNodes[0].offsetWidth+"px")),e=null}},function(){for(var t in{doAddInput:1,doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.select[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.multiselect={doLoadOpts:function(t,e,i){var n=t.childNodes[t._ll?1:0].childNodes[0];n.multiple=!0,isNaN(e.size)||(n.size=+e.size),t._value=[],t._newValue=[];for(var o=e.options,l=0;l<o.length;l++){var s=new Option(o[l].text||o[l].label,o[l].value);n.options.add(s),(1==o[l].selected||"true"==o[l].selected)&&(s.selected=!0,t._value.push(o[l].value))}i===!0&&t.callEvent("onOptionsLoaded",[t._idd]),this._checkNoteWidth(t)},doAttachEvents:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0],i=this;e.onfocus=function(){i.doOnChange(this);var t=this.parentNode.parentNode;t.getForm().callEvent("onFocus",[t._idd]),t=null},e.onblur=function(){i.doOnChange(this);var t=this.parentNode.parentNode;t.getForm().callEvent("onBlur",[t._idd]),t=null},e.onclick=function(){i.doOnChange(this);var t=this.parentNode.parentNode;t._autoCheck(),t=null}},doOnChange:function(t){var e=t.parentNode.parentNode;e._newValue=[];for(var i=0;i<t.options.length;i++)t.options[i].selected&&e._newValue.push(t.options[i].value);if(""+e._value.sort()!=""+e._newValue.sort()){if(e.checkEvent("onBeforeChange")&&e.callEvent("onBeforeChange",[e._idd,e._value,e._newValue])!==!0){for(var n={},i=0;i<e._value.length;i++)n[e._value[i]]=!0;for(var i=0;i<t.options.length;i++)t.options[i].selected=1==n[t.options[i].value];return void(n=null)}e._value=[];for(var i=0;i<e._newValue.length;i++)e._value.push(e._newValue[i]);e.callEvent("onChange",[e._idd,e._value])}e._autoCheck()},setValue:function(t,e){var i={};"string"==typeof e&&(e=e.split(",")),"object"!=typeof e&&(e=[e]);for(var n=0;n<e.length;n++)i[e[n]]=!0;for(var o=this.getOptions(t),n=0;n<o.length;n++)o[n].selected=1==i[o[n].value];t._autoCheck()},getValue:function(t){for(var e=[],i=this.getOptions(t),n=0;n<i.length;n++)i[n].selected&&e.push(i[n].value);return e}},function(){for(var t in dhtmlXForm.prototype.items.select)dhtmlXForm.prototype.items.multiselect[t]||(dhtmlXForm.prototype.items.multiselect[t]=dhtmlXForm.prototype.items.select[t])}(),dhtmlXForm.prototype.items.input={render:function(t,e){var i=!isNaN(e.rows);if(t._type="ta",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,i?"TEXTAREA":"INPUT",i?null:"TEXT",!0,!0,"dhxform_textarea"),this.doAttachEvents(t),i&&(t.childNodes[t._ll?1:0].childNodes[0].rows=+e.rows+(window.dhx4.isIE6?1:0)),void 0!==e.numberFormat){var n,o=null,l=null;"string"!=typeof e.numberFormat?(n=e.numberFormat[0],o=e.numberFormat[1]||null,l=e.numberFormat[2]||null):(n=e.numberFormat,"string"==typeof e.groupSep&&(o=e.groupSep),"string"==typeof e.decSep&&(l=e.decSep)),this.setNumberFormat(t,n,o,l,!1)}return this.setValue(t,e.value),this},doAttachEvents:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0];if(void 0!==e.tagName&&1=={input:1,textarea:1,select:1}[e.tagName.toLowerCase()]){var i=this;e.onfocus=function(){var t=this.parentNode.parentNode;null!=t._df&&(this.value=t._value||""),t.getForm()._ccActivate(t._idd,this,this.value),t.getForm().callEvent("onFocus",[t._idd]),t=null},e.onblur=function(){var t=this.parentNode.parentNode;t.getForm()._ccDeactivate(t._idd),i.updateValue(t,!0),t.getForm().live_validate&&i._validate(t),t.getForm().callEvent("onBlur",[t._idd]),t=null}}e=null},updateValue:function(t,e){var i=t.childNodes[t._ll?1:0].childNodes[0].value,n=t.getForm(),o=1==n._ccActive&&null!=n._formLS&&null!=n._formLS[t._idd];if(n=null,(o||null==t._df||i!=window.dhx4.template._getFmtValue(t._value,t._df))&&(e||null==t._df||t._value!=i||i!=window.dhx4.template._getFmtValue(i,t._df))){var l=this;return t._value!=i?t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,i])!==!0?void(null!=t._df?l.setValue(t,t._value):t.childNodes[t._ll?1:0].childNodes[0].value=t._value):(null!=t._df&&e?l.setValue(t,i):t._value=i,void t.callEvent("onChange",[t._idd,i])):void(null!=t._df&&e&&this.setValue(t,t._value))}},setValue:function(t,e){t._value=void 0!==e&&null!=e?e:"";var i=t._value+""||"",n=t.childNodes[t._ll?1:0].childNodes[0];null!=t._df&&(i=window.dhx4.template._getFmtValue(i,t._df)),n.value!=i&&(n.value=i,t.getForm()._ccReload(t._idd,i)),n=null},getValue:function(t){var e=t.getForm();return e._formLS&&null!=e._formLS[t._idd]&&this.updateValue(t),e=null,void 0!==t._value&&null!=t._value?t._value:""},setReadonly:function(t,e){t._ro=e===!0,t._ro?t.childNodes[t._ll?1:0].childNodes[0].setAttribute("readOnly","true"):t.childNodes[t._ll?1:0].childNodes[0].removeAttribute("readOnly")},isReadonly:function(t){return t._ro||(t._ro=!1),t._ro},getInput:function(t){return t.childNodes[t._ll?1:0].childNodes[0]},setNumberFormat:function(t,e,i,n,o){if("boolean"!=typeof o&&(o=!0),""==e)return t._df=null,o&&this.setValue(t,t._value),!0;if("string"==typeof e){var l=window.dhx4.template._parseFmt(e,i,n);return 0==l?!1:(t._df=l,o&&this.setValue(t,t._value),!0)}}},function(){for(var t in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setFocus:1})dhtmlXForm.prototype.items.input[t]=dhtmlXForm.prototype.items.select[t]}(),dhtmlXForm.prototype.items.password={render:function(t,e){return t._type="pw",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","PASSWORD",!0,!0,"dhxform_textarea"),this.doAttachEvents(t),this.setValue(t,e.value),this}},function(){for(var t in{doAddLabel:1,doAddInput:1,doAttachEvents:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,setValue:1,getValue:1,updateValue:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.password[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.file={render:function(t,e){t._type="fl",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","FILE",!0,!1,"dhxform_textarea");var i=t.childNodes[t._ll?1:0].childNodes[0],n=this;return i.onfocus=function(){var t=this.parentNode.parentNode;t.getForm().callEvent("onFocus",[t._idd]),t=null},i.onblur=function(){var t=this.parentNode.parentNode;t.getForm().live_validate&&n._validate(t),t.getForm().callEvent("onBlur",[t._idd]),t=null},i=null,t.childNodes[t._ll?1:0].childNodes[0].onchange=function(){t.callEvent("onChange",[t._idd,this.value])},this},setValue:function(){},getValue:function(t){return t.childNodes[t._ll?1:0].childNodes[0].value}},function(){for(var t in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,getInput:1,enable:1,disable:1,isEnabled:1,setWidth:1})dhtmlXForm.prototype.items.file[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.label={_index:!1,render:function(t,e){t._type="lb",t._enabled=!0,t._checked=!0;var i=document.createElement("DIV");return i.className="dhxform_txt_label2"+(e._isTopmost?" topmost":""),i.innerHTML=e.label,t.appendChild(i),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),isNaN(e.labelWidth)||(i.style.width=parseInt(e.labelWidth)+"px"),isNaN(e.labelHeight)||(i.style.height=parseInt(e.labelHeight)+"px"),isNaN(e.labelLeft)||(i.style.left=parseInt(e.labelLeft)+"px"),isNaN(e.labelTop)||(i.style.top=parseInt(e.labelTop)+"px"),this},destruct:function(t){this.doUnloadNestedLists(t),t._autoCheck=null,t._enabled=null,t._type=null,t.callEvent=null,t.checkEvent=null,t.getForm=null,t.onselectstart=null,t.parentNode.removeChild(t),t=null},enable:function(t){(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t._enabled=!0},disable:function(t){(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1},setText:function(t,e){t.firstChild.innerHTML=e},getText:function(t){return t.firstChild.innerHTML}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.label[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.button={render:function(t,e){if(t._type="bt",t._enabled=!0,t._name=e.name,t.className=(t.className+"").replace("item_label_top","item_label_left").replace("item_label_right","item_label_left"),t._doOnKeyUpDown=function(t,e){this.callEvent(t,[this.childNodes[0].childNodes[0],e,this._idd])},t.innerHTML='<div class="dhxform_btn" role="link" tabindex="0" dir="ltr"><div class="dhxform_btn_txt">'+e.value+'</div><div class="dhxform_btn_filler" disabled="true"></div></div>',!isNaN(e.width)){var i=Math.max(e.width,10);null==dhtmlXForm.prototype.items[this.t]._dim&&(t.firstChild.style.width=i+"px",dhtmlXForm.prototype.items[this.t]._dim=t.getForm()._checkDim(t,t.firstChild)),t.firstChild.style.width=i-dhtmlXForm.prototype.items[this.t]._dim+"px",t.firstChild.firstChild.className+=" dhxform_btn_txt_autowidth"}return isNaN(e.inputLeft)||(t.childNodes[0].style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.childNodes[0].style.top=parseInt(e.inputTop)+"px"),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),void 0!==e.tooltip&&(t.firstChild.title=e.tooltip),t.onselectstart=function(t){return t=t||event,t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1},t.firstChild.onselectstart=function(t){return t=t||event,t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1},t.firstChild.onkeypress=function(t){return t=t||event,32!=t.keyCode&&32!=t.charCode&&13!=t.keyCode&&13!=t.charCode||this.parentNode._busy?void 0:(this.parentNode._busy=!0,t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,_dhxForm_doClick(this.childNodes[0],["mousedown","mouseup"]),!1)},t.firstChild.onfocus=function(){this.parentNode._doOnFocus(this.parentNode)},t.firstChild.onblur=function(){_dhxForm_doClick(this.childNodes[0],"mouseout"),this.parentNode._doOnBlur(this.parentNode)},t.firstChild.onkeyup=function(t){this.parentNode._doOnKeyUpDown("onKeyUp",t||event)},t.firstChild.onkeydown=function(t){this.parentNode._doOnKeyUpDown("onKeyDown",t||event)},t.firstChild.onmouseover=function(){var t=this.parentNode;t._enabled&&(this._isOver=!0,this.className="dhxform_btn dhxform_btn_over",t=null)},t.firstChild.onmouseout=function(){var t=this.parentNode;t._enabled&&(this.className="dhxform_btn",this._allowClick=!1,this._pressed=!1,this._isOver=!1,t=null)},t.firstChild.ontouchstart=t.firstChild.onmousedown=function(t){if(t=t||event,"touchstart"==t.type&&t.preventDefault&&t.preventDefault(),t.button<2&&!this._pressed){var e=this.parentNode;e._enabled&&(this.className="dhxform_btn dhxform_btn_pressed",this._allowClick=!0,this._pressed=!0,e=null)}},t.firstChild.ontouchend=t.firstChild.onmouseup=function(t){if(t=t||event,t.button<2&&this._pressed){var e=this.parentNode;e._enabled&&(e._busy=!1,this.className="dhxform_btn"+(this._isOver?" dhxform_btn_over":""),this._pressed&&this._allowClick&&e.callEvent("_onButtonClick",[e._name,e._cmd]),this._allowClick=!1,this._pressed=!1,e=null)}},t._doOnFocus=function(t){t.getForm().callEvent("onFocus",[t._idd])},t._doOnBlur=function(t){t.getForm().callEvent("onBlur",[t._idd])},this},destruct:function(t){for(this.doUnloadNestedLists(t),t.callEvent=null,t.checkEvent=null,t.getForm=null,t._autoCheck=null,t._type=null,t._enabled=null,t._cmd=null,t._name=null,t._doOnFocus=null,t._doOnBlur=null,t._doOnKeyUpDown=null,t.onselectstart=null,t.firstChild.onselectstart=null,t.firstChild.onkeypress=null,t.firstChild.ontouchstart=null,t.firstChild.ontouchend=null,t.firstChild.onfocus=null,t.firstChild.onblur=null,t.firstChild.onkeyup=null,t.firstChild.onkeydown=null,t.firstChild.onmouseover=null,t.firstChild.onmouseout=null,t.firstChild.onmousedown=null,t.firstChild.onmouseup=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},enable:function(t){(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t._enabled=!0,t.childNodes[0].removeAttribute("disabled"),t.childNodes[0].setAttribute("role","link"),t.childNodes[0].setAttribute("tabIndex","0")},disable:function(t){(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,t.childNodes[0].setAttribute("disabled","true"),t.childNodes[0].removeAttribute("role"),t.childNodes[0].removeAttribute("tabIndex")},setText:function(t,e){t.childNodes[0].childNodes[0].innerHTML=e},getText:function(t){return t.childNodes[0].childNodes[0].innerHTML},setFocus:function(t){t.childNodes[0].focus()}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.button[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.hidden={_index:!1,render:function(t,e){t.style.display="none",t._name=e.name,t._type="hd",t._enabled=!0;var i=document.createElement("INPUT");return i.type="HIDDEN",i.name=e.name,i.value=e.value||"",t.appendChild(i),this},destruct:function(t){for(this.doUnloadNestedLists(t);t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t._autoCheck=null,t._name=null,t._type=null,t._enabled=null,t.onselectstart=null,t.callEvent=null,t.checkEvent=null,t.getForm=null,t.parentNode.removeChild(t),t=null},enable:function(t){t._enabled=!0,t.childNodes[0].setAttribute("name",t._name)},disable:function(t){t._enabled=!1,t.childNodes[0].removeAttribute("name")},show:function(){},hide:function(){},isHidden:function(){return!0},setValue:function(t,e){t.childNodes[0].value=e},getValue:function(t){return t.childNodes[0].value},getInput:function(t){return t.childNodes[0]}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.hidden[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.list={_index:!1,render:function(t,e){return t._type="list",t._enabled=!0,t._isNestedForm=!0,t.style.paddingLeft=t._ofsNested+"px",t.className="dhxform_base_nested"+(t._custom_css||""),[this,new dhtmlXForm(t,null,e)]},destruct:function(){}},dhtmlXForm.prototype.items.fieldset={_index:!1,render:function(t,e){t._type="fs","number"==typeof parseInt(e.inputWidth),t._width=e.width,t._enabled=!0,t._checked=!0,t.className="fs_"+e.position+("string"==typeof e.className?" "+e.className:"");var i=document.createElement("FIELDSET");i.className="dhxform_fs";var n=(e.labelAlign+"").replace("align_","");if(i.innerHTML="<legend class='fs_legend' align='"+n+"' style='text-align:"+n+"'>"+e.label+"</legend>",t.appendChild(i),isNaN(e.inputLeft)||(i.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(i.style.top=parseInt(e.inputTop)+"px"),"auto"!=e.inputWidth&&!isNaN(e.inputWidth)){i.style.width=parseInt(e.inputWidth)+"px";var o=parseInt(i.style.width);i.offsetWidth>o&&(i.style.width=o+(o-i.offsetWidth)+"px")}return t._addSubListNode=function(){var t=document.createElement("DIV");return t._custom_css=" dhxform_fs_nested",this.childNodes[0].appendChild(t),t},1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this},destruct:function(t){for(this.doUnloadNestedLists(t),t._checked=null,t._enabled=null,t._idd=null,t._type=null,t._width=null,t.onselectstart=null,t._addSubListNode=null,t._autoCheck=null,t.callEvent=null,t.checkEvent=null,t.getForm=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},setText:function(t,e){t.childNodes[0].childNodes[0].innerHTML=e},getText:function(t){return t.childNodes[0].childNodes[0].innerHTML},enable:function(t){t._enabled=!0,(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,""))},disable:function(t){t._enabled=!1,(t.className+"").search("disabled")<0&&(t.className+=" disabled")},setWidth:function(t,e){t.childNodes[0].style.width=e+"px",t._width=e},getWidth:function(t){return t._width}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.fieldset[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.block={_index:!1,render:function(t,e){t._type="bl",t._width=e.width,t._enabled=!0,t._checked=!0,t.className="block_"+e.position+("string"==typeof e.className?" "+e.className:"");
var i=document.createElement("DIV");return i.className="dhxform_obj_"+t.getForm().skin+" dhxform_block",i.style.fontSize=t.getForm().cont.style.fontSize,e.style&&(i.style.cssText=e.style),void 0!==e.id&&(i.id=e.id),t.appendChild(i),isNaN(e.inputLeft)||(i.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(i.style.top=parseInt(e.inputTop)+"px"),"auto"!=e.inputWidth&&(isNaN(e.inputWidth)||(i.style.width=parseInt(e.inputWidth)+"px")),isNaN(e.blockOffset)||(t._ofsNested=e.blockOffset),t._addSubListNode=function(){var t=document.createElement("DIV");return t._inBlcok=!0,void 0!==this._ofsNested&&(t._ofsNested=this._ofsNested),this.childNodes[0].appendChild(t),t},1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this},_setCss:function(t,e,i){t.firstChild.className="dhxform_obj_"+e+" dhxform_block",t.firstChild.style.fontSize=i}},function(){for(var t in{enable:1,disable:1,isEnabled:1,setWidth:1,getWidth:1,doUnloadNestedLists:1,destruct:1})dhtmlXForm.prototype.items.block[t]=dhtmlXForm.prototype.items.fieldset[t]}(),dhtmlXForm.prototype.items.newcolumn={_index:!1},dhtmlXForm.prototype.items.template={render:function(t,e){!isNaN(e.rows);return t._type="tp",t._enabled=!0,null!=e.format&&("function"==typeof e.format?t.format=e.format:"string"==typeof e.format&&"function"==typeof window[e.format]&&(t.format=window[e.format])),null==t.format&&(t.format=function(t,e){return e}),this.doAddLabel(t,e),this.doAddInput(t,e,"DIV",null,!0,!0,"dhxform_item_template"),this.setValue(t,e.value||""),this},destruct:function(t){t.format=null,this.d2(t),t=null},setValue:function(t,e){t._value=e,t.childNodes[t._ll?1:0].childNodes[0].innerHTML=t.format(t._idd,t._value)},getValue:function(t){return t._value},enable:function(t){(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t._enabled=!0},disable:function(t){(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1}},function(){dhtmlXForm.prototype.items.template.d2=dhtmlXForm.prototype.items.input.destruct;for(var t in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,isEnabled:1,setWidth:1})dhtmlXForm.prototype.items.template[t]=dhtmlXForm.prototype.items.select[t]}(),dhtmlXForm.prototype._ulToObject=function(t,e){for(var i=[],n=0;n<t.childNodes.length;n++){if("li"==((t.childNodes[n].tagName||"")+"").toLowerCase()){for(var o={},l=t.childNodes[n],s=0;s<e.length;s++)null!=l.getAttribute(e[s])&&(o[(e[s]+"").replace("ftype","type")]=l.getAttribute(e[s]));if(!o.label)try{o.label=l.firstChild.nodeValue}catch(d){}var a=l.getElementsByTagName("UL");null!=a[0]&&(o["select"==o.type?"options":"list"]=dhtmlXForm.prototype._ulToObject(a[0],e));for(var s=0;s<l.childNodes.length;s++)"userdata"==((l.childNodes[s].tagName||"")+"").toLowerCase()&&(o.userdata||(o.userdata={}),o.userdata[l.childNodes[s].getAttribute("name")]=l.childNodes[s].firstChild.nodeValue);i[i.length]=o}if("div"==((t.childNodes[n].tagName||"")+"").toLowerCase()){var o={};o.type="label";try{o.label=t.childNodes[n].firstChild.nodeValue}catch(d){}i[i.length]=o}}return i},dhtmlXForm.prototype.setUserData=function(t,e,i,n){if(void 0!==n){var o=this.doWithItem([t,e],"_getId");null!=o&&(t=o,e=i,i=n)}this._userdata||(this._userdata={}),this._userdata[t]=this._userdata[t]||{},this._userdata[t][e]=i},dhtmlXForm.prototype.getUserData=function(t,e,i){if(void 0!==i){var n=this.doWithItem([t,e],"_getId");null!=n&&(t=n,e=i)}return null!=this._userdata&&void 0!==this._userdata[t]&&void 0!==this._userdata[t][e]?this._userdata[t][e]:""},dhtmlXForm.prototype.setRTL=function(t){this._rtl=t===!0?!0:!1,this._rtl?(this.cont+"").search(/dhxform_rtl/gi)<0&&(this.cont.className+=" dhxform_rtl"):(this.cont+"").search(/dhxform_rtl/gi)<0||(this.cont.className=(this.cont.className+"").replace(/dhxform_rtl/gi,""))},_dhxForm_doClick=function(t,e){if("object"==typeof e){var i=e[1];e=e[0]}if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent(e,!0,!1),t.dispatchEvent(n)}else if(document.createEventObject){var n=document.createEventObject();n.button=1,t.fireEvent("on"+e,n)}i&&window.setTimeout(function(){_dhxForm_doClick(t,i)},100)},dhtmlXForm.prototype.setFormData=function(t){for(var e in t){var i=this.getItemType(e);switch(i){case"checkbox":this[1==t[e]||1==parseInt(t[e])||"true"==t[e]||t[e]==this.getItemValue(e,"realvalue")?"checkItem":"uncheckItem"](e);break;case"radio":this.checkItem(e,t[e]);break;case"input":case"textarea":case"password":case"select":case"multiselect":case"hidden":case"template":case"combo":case"calendar":case"colorpicker":case"editor":this.setItemValue(e,t[e]);break;default:this["setFormData_"+i]?this["setFormData_"+i](e,t[e]):(this.hId||(this.hId=this._genStr(12)),this.setUserData(this.hId,e,t[e]))}}},dhtmlXForm.prototype.getFormData=function(t,e){var i={};for(var n in this.itemPull){var o=this.itemPull[n]._idd,l=this.itemPull[n]._type;if("ch"==l&&(i[o]=this.isItemChecked(o)?this.getItemValue(o):0),"ra"!=l||i[this.itemPull[n]._group]||(i[this.itemPull[n]._group]=this.getCheckedValue(this.itemPull[n]._group)),l in{se:1,ta:1,pw:1,hd:1,tp:1,fl:1,calendar:1,combo:1,editor:1,colorpicker:1}&&(i[o]=this.getItemValue(o,t)),this["getFormData_"+l]&&(i[o]=this["getFormData_"+l](o)),"up"==l){var s=this.getItemValue(o);for(var d in s)i[d]=s[d]}if(this.itemPull[n]._list)for(var a=0;a<this.itemPull[n]._list.length;a++){var r=this.itemPull[n]._list[a].getFormData(t,e);for(var h in r)i[h]=r[h]}}if(!e&&this.hId&&this._userdata[this.hId])for(var n in this._userdata[this.hId])i[n]||(i[n]=this._userdata[this.hId][n]);return i},dhtmlXForm.prototype.adjustParentSize=function(){for(var t=0,e=-1,i=0;i<this.base.length;i++)t+=this.base[i].firstChild.offsetWidth,this.base[i].offsetHeight>e&&(e=this.base[i].offsetHeight);var n=!1;try{if(n=1==this.cont.parentNode.parentNode.parentNode.parentNode._isCell)var o=this.cont.parentNode.parentNode.parentNode.parentNode}catch(l){}if(n&&void 0!==o)return t>0&&o.setWidth(t+10),e>0&&o.setHeight(e+o.firstChild.firstChild.offsetHeight+5),void(n=o=null);var s=!1;try{if(s=1==this.cont.parentNode.parentNode.parentNode._isWindow){var d=this.cont.parentNode.parentNode;"function"==typeof d.callEvent&&(this.cont.style.display="none",d.callEvent("_setCellSize",[t+15,e+15]),this.cont.style.display="")}}catch(l){}},dhtmlXForm.prototype.reset=function(){this.callEvent("onBeforeReset",[this.formId,this.getFormData()])&&(this._last_load_data&&this.setFormData(this._last_load_data),this.callEvent("onAfterReset",[this.formId]))},dhtmlXForm.prototype.send=function(t,e,i,n){if("function"==typeof e?(i=e,e="post"):e="get"==e?"get":"post",n===!0||this.validate()){var o=this.getFormData(!0),l=[];for(var s in o)l.push(s+"="+encodeURIComponent(o[s]));var d=function(t){i&&i.call(this,t,t.xmlDoc.responseText)};"get"==e?window.dhx4.ajax.get(t+(-1==t.indexOf("?")?"?":"&")+l.join("&"),d):window.dhx4.ajax.post(t,l.join("&"),d)}},dhtmlXForm.prototype.save=function(){},dhtmlXForm.prototype.dummy=function(){},dhtmlXForm.prototype._changeFormId=function(t,e){this.formId=e},dhtmlXForm.prototype._dp_init=function(t){t._methods=["dummy","dummy","_changeFormId","dummy"],t._getRowData=function(t){var e=this.obj.getFormData(!0);return e[this.action_param]=this.obj.getUserData(t,this.action_param),e},t._clearUpdateFlag=function(){},t.attachEvent("onAfterUpdate",function(t,e,i,n){return("inserted"==e||"updated"==e||"error"==e||"invalid"==e)&&this.obj.resetDataProcessor("updated"),("inserted"==e||"updated"==e)&&(this.obj._last_load_data=this.obj.getFormData(!0)),this.obj.callEvent("onAfterSave",[this.obj.formId,n]),!0}),t.autoUpdate=!1,t.setTransactionMode("POST",!0),this.dp=t,this.formId=(new Date).valueOf(),this.resetDataProcessor("inserted"),this.save=function(){this.callEvent("onBeforeSave",[this.formId,this.getFormData()])&&this.validate()&&t.sendData()}},dhtmlXForm.prototype.resetDataProcessor=function(t){this.dp&&(this.dp.updatedRows=[],this.dp._in_progress=[],this.dp.setUpdated(this.formId,!0,t))},dhtmlXForm.prototype._ccActivate=function(t,e,i){this._formLS||(this._formLS={}),this._formLS[t]||(this._formLS[t]={input:e,value:i}),this._ccActive||(this._ccActive=!0,this._ccDo()),e=null},dhtmlXForm.prototype._ccDeactivate=function(t){this._ccTm&&window.clearTimeout(this._ccTm),this._ccActive=!1,null!=this._formLS&&null!=this._formLS[t]&&(this._formLS[t].input=null,this._formLS[t]=null,delete this._formLS[t])},dhtmlXForm.prototype._ccDo=function(){this._ccTm&&window.clearTimeout(this._ccTm);for(var t in this._formLS){var e=this._formLS[t].input;if("select"==(e.tagName+"").toLowerCase()){var i="";e.selectedIndex>=0&&e.selectedIndex<e.options.length&&(i=e.options[e.selectedIndex].value)}else var i=e.value;i!=this._formLS[t].value&&(this._formLS[t].value=i,this.callEvent("onInputChange",[e._idd,i,this])),e=null}if(this._ccActive){var n=this;this._ccTm=window.setTimeout(function(){n._ccDo(),n=null},100)}},dhtmlXForm.prototype._ccReload=function(t,e){this._formLS&&this._formLS[t]&&(this._formLS[t].value=e)},dhtmlXForm.prototype._checkDim=function(t,e){var i=document.createElement("DIV");i.className="dhxform_obj_"+this.skin,i.style.cssText+=1==dhx4.isIE6?"visibility:hidden;":"position:absolute;left:-2000px;top:-1000px;",document.body.appendChild(i);var n=t.parentNode,o=t.nextSibling;i.appendChild(t);var l=parseInt(e.style.width),s=dhx4.isFF||dhx4.isIE||dhx4.isChrome||dhx4.isOpera?e.offsetWidth:e.clientWidth,d=s-l;return null!=o?n.insertBefore(t,o):n.appendChild(t),i.parentNode.removeChild(i),n=o=i=t=e=null,d},dhtmlXForm.prototype._autoload=function(){for(var t=["ftype","name","value","label","check","checked","disabled","text","rows","select","selected","width","style","className","labelWidth","labelHeight","labelLeft","labelTop","inputWidth","inputHeight","inputLeft","inputTop","position","size"],e=document.getElementsByTagName("UL"),i=[],n=0;n<e.length;n++)if("dhtmlxForm"==e[n].className){var o=document.createElement("DIV");i[i.length]={nodeUL:e[n],nodeForm:o,data:dhtmlXForm.prototype._ulToObject(e[n],t),name:e[n].getAttribute("name")||null}}for(var n=0;n<i.length;n++){i[n].nodeUL.parentNode.insertBefore(i[n].nodeForm,i[n].nodeUL);var l=new dhtmlXForm(i[n].nodeForm,i[n].data);null!==i[n].name&&(window[i[n].name]=l);var s=i[n].nodeUL.getAttribute("oninit")||null;i[n].nodeUL.parentNode.removeChild(i[n].nodeUL),i[n].nodeUL=null,i[n].nodeForm=null,i[n].data=null,i[n]=null,s&&("function"==typeof s?s():"function"==typeof window[s]&&window[s]())}"function"==typeof window.addEventListener?window.removeEventListener("load",dhtmlXForm.prototype._autoload,!1):window.detachEvent("onload",dhtmlXForm.prototype._autoload)},"function"==typeof window.addEventListener?window.addEventListener("load",dhtmlXForm.prototype._autoload,!1):window.attachEvent("onload",dhtmlXForm.prototype._autoload),void 0!==window.dhtmlXCellObject&&(dhtmlXCellObject.prototype.attachForm=function(t){this.callEvent("_onBeforeContentAttach",["form"]);var e=document.createElement("DIV");return e.style.width="100%",e.style.height="100%",e.style.position="relative",window.dhtmlx&&dhtmlx.$customScroll?dhtmlx.CustomScroll.enable(e):e.style.overflow="auto",this._attachObject(e),this.dataType="form",this.dataObj=new dhtmlXForm(e,t),this.dataObj.setSkin(this.conf.skin),e=null,this.callEvent("_onContentAttach",[]),this.dataObj}),dhtmlXForm.prototype.items.combo={render:function(t,e){t._type="combo",t._enabled=!0,t._value=null,t._newValue=null;var i=t.getForm().skin;void 0!==e.inputWidth&&"material"==i&&null!=(e.inputWidth+"").match(/^\d*$/)&&(e.inputWidth=parseInt(e.inputWidth)+2),this.doAddLabel(t,e),this.doAddInput(t,e,"SELECT",null,!0,!0,"dhxform_select"),this.doAttachEvents(t),this.doLoadOpts(t,e),t.onselectstart=function(){return!0},t.childNodes[t._ll?1:0].childNodes[0].setAttribute("mode",e.comboType||""),e.comboImagePath&&t.childNodes[t._ll?1:0].childNodes[0].setAttribute("imagePath",e.comboImagePath),e.comboDefaultImage&&t.childNodes[t._ll?1:0].childNodes[0].setAttribute("defaultImage",e.comboDefaultImage),e.comboDefaultImageDis&&t.childNodes[t._ll?1:0].childNodes[0].setAttribute("defaultImageDis",e.comboDefaultImageDis),t._combo=new dhtmlXComboFromSelect(t.childNodes[t._ll?1:0].childNodes[0]),t._combo.setSkin(i),t._combo._currentComboValue=t._combo.getSelectedValue(),t._combo.getInput().id=e.uid,"material"==i&&(t._combo.list.className+=" dhxform_obj_"+i);var n=this;return t._combo.attachEvent("onChange",function(){n.doOnChange(this)}),e.connector&&this.doLoadOptsConnector(t,e.connector),e.filtering?t._combo.enableFilteringMode(!0):e.serverFiltering&&t._combo.enableFilteringMode(!0,e.serverFiltering,e.filterCache,e.filterSubLoad),1==e.readonly&&this.setReadonly(t,!0),1==e.hidden&&this.hide(t),e.style&&(t._combo.DOMelem_input.style.cssText+=e.style),t._combo.attachEvent("onFocus",function(){var t=this.cont.parentNode.parentNode,e=t.getForm();"dhx_terrace"!=e.skin&&"material"!=e.skin||this.cont.className.search(/combo_in_focus/)>=0||(this.cont.className+=" combo_in_focus"),e.callEvent("onFocus",[t._idd]),e=t=null}),t._combo.attachEvent("onBlur",function(){var t=this.cont.parentNode.parentNode,e=t.getForm();"dhx_terrace"!=e.skin&&"material"!=e.skin||this.cont.className.search(/combo_in_focus/)<0||(this.cont.className=this.cont.className.replace(/\s{0,}combo_in_focus/gi,"")),e.callEvent("onBlur",[t._idd]),e=t=null}),this},destruct:function(t){t.childNodes[t._ll?1:0].childNodes[0].onchange=null,t._combo._currentComboValue=null,t._combo.unload(),t._combo=null,t._apiChange=null,this.d2(t),t=null},doAttachEvents:function(t){var e=this;t.childNodes[t._ll?1:0].childNodes[0].onchange=function(){e.doOnChange(this),e.doValidate(this.DOMParent.parentNode.parentNode)}},doValidate:function(t){t.getForm().hot_validate&&this._validate(t)},doOnChange:function(t){var e=t.base.parentNode.parentNode.parentNode;if(!e._apiChange){if(t._newComboValue=t.getSelectedValue(),t._newComboValue!=t._currentComboValue){if(e.checkEvent("onBeforeChange")&&e.callEvent("onBeforeChange",[e._idd,t._currentComboValue,t._newComboValue])!==!0)return window.setTimeout(function(){t.setComboValue(t._currentComboValue)},1),!1;t._currentComboValue=t._newComboValue,e.callEvent("onChange",[e._idd,t._currentComboValue])}e._autoCheck()}},doLoadOptsConnector:function(t,e){var i=this,n=t;t._connector_working=!0,t._apiChange=!0,t._combo.load(e,function(){n.callEvent("onOptionsLoaded",[n._idd]),n._connector_working=!1,null!=n._connector_value&&(i.setValue(n,n._connector_value),n._connector_value=null),n._apiChange=!1,i=n=null})},enable:function(t){(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t._enabled=!0,t._combo.enable()},disable:function(t){(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,t._combo.disable()},getCombo:function(t){return t._combo},setValue:function(t,e){return t._connector_working?void(t._connector_value=e):(t._apiChange=!0,t._combo.setComboValue(e),t._combo._currentComboValue=t._combo.getActualValue(),void(t._apiChange=!1))},getValue:function(t){return t._combo.getActualValue()},setWidth:function(t,e){t.childNodes[t._ll?1:0].childNodes[0].style.width=e+"px"},setReadonly:function(t,e){t._combo&&(t._combo_ro=e,t._combo.readonly(t._combo_ro))},isReadonly:function(t){return t._combo_ro||!1},setFocus:function(t){t._enabled&&t._combo.setFocus()},_setCss:function(t,e,i){t._combo.setFontSize(i,i)}},function(){for(var t in{doAddLabel:1,doAddInput:1,doLoadOpts:1,doUnloadNestedLists:1,setText:1,getText:1,isEnabled:1,_checkNoteWidth:1})dhtmlXForm.prototype.items.combo[t]=dhtmlXForm.prototype.items.select[t]}(),dhtmlXForm.prototype.items.combo.d2=dhtmlXForm.prototype.items.select.destruct,dhtmlXForm.prototype.getCombo=function(t){return this.doWithItem(t,"getCombo")},dhtmlXForm.prototype.items.calendar={render:function(t,e){var i=this;t._type="calendar",t._enabled=!0;var n=navigator.userAgent,o=n.indexOf("MSIE 6.0")>=0||n.indexOf("MSIE 7.0")>=0||n.indexOf("MSIE 8.0")>=0;this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea calendar"),this.doAttachChangeLS(t),o&&(t.childNodes[t._ll?1:0].childNodes[0].onfocus2=t.childNodes[t._ll?1:0].childNodes[0].onfocus,t.childNodes[t._ll?1:0].childNodes[0].onfocus=function(){return 1==this._skipOnFocus?void(this._skipOnFocus=!1):void this.onfocus2.apply(this,arguments)}),t.childNodes[t._ll?1:0].childNodes[0]._idd=t._idd,t.childNodes[t._ll?1:0].childNodes[0].onblur=function(){var t=this.parentNode.parentNode;if(t._c.base._formMouseDown)return t._c.base._formMouseDown=!1,this._skipOnFocus=!0,this.focus(),this.value=this.value,t=null,!0;var e=t.getForm();e._ccDeactivate(t._idd),i.checkEnteredValue(this.parentNode.parentNode),e.live_validate&&i._validate(t),e.callEvent("onBlur",[t._idd]),t._c.isVisible()||(t._tempValue=null),e=t=null},t._f=e.dateFormat||null,t._f0=e.serverDateFormat||t._f;var l=t.getForm();return t._c=new dhtmlXCalendarObject(t.childNodes[t._ll?1:0].childNodes[0],e.skin||l.skin||"dhx_skyblue"),t._c._nullInInput=!0,t._c.enableListener(t.childNodes[t._ll?1:0].childNodes[0]),null!=t._f&&t._c.setDateFormat(t._f),window.dhx4.s2b(e.enableTime)||t._c.hideTime(),window.dhx4.s2b(e.enableTodayButton)&&t._c.showToday(),window.dhx4.s2b(e.showWeekNumbers)&&t._c.showWeekNumbers(),isNaN(e.weekStart)||t._c.setWeekStartDay(e.weekStart),void 0!==e.calendarPosition&&t._c.setPosition(e.calendarPosition),null!=e.minutesInterval&&t._c.setMinutesInterval(e.minutesInterval),t._c._itemIdd=t._idd,t._c.attachEvent("onBeforeChange",function(e){if(t._value!=e){if(t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,e])!==!0)return!1;t._tempValue=t._value=e,i.setValue(t,e,!1),t.callEvent("onChange",[this._itemIdd,t._value])}return!0}),t._c.attachEvent("onClick",function(){t._tempValue=null}),t._c.attachEvent("onHide",function(){t._tempValue=null}),o&&(t._c.base.onmousedown=function(){return this._formMouseDown=!0,!1}),this.setValue(t,e.value),l=null,this},getCalendar:function(t){return t._c},setSkin:function(t,e){t._c.setSkin(e)},setValue:function(t,e,i){e&&null!=e&&void 0!==e&&""!=e?(t._value=e instanceof Date?e:t._c._strToDate(e,t._f0||t._c._dateFormat),t.childNodes[t._ll?1:0].childNodes[0].value=t._c._dateToStr(t._value,t._f||t._c._dateFormat)):(t._value=null,t.childNodes[t._ll?1:0].childNodes[0].value=""),i!==!1&&t._c.setDate(t._value)},getValue:function(t,e){var i=t._tempValue||t._c.getDate();return e===!0&&null==i?"":e===!0?t._c._dateToStr(i,t._f0||t._c._dateFormat):i},setDateFormat:function(t,e,i){t._f=e,t._f0=i||t._f,t._c.setDateFormat(t._f),this.setValue(t,this.getValue(t))},destruct:function(t){t._c.disableListener(t.childNodes[t._ll?1:0].childNodes[0]),t._c.unload(),t._c=null;try{delete t._c}catch(e){}t._f=null;try{delete t._f}catch(e){}t._f0=null;try{delete t._f0}catch(e){}t.childNodes[t._ll?1:0].childNodes[0]._idd=null,t.childNodes[t._ll?1:0].childNodes[0].onblur=null,this.d2(t),t=null},checkEnteredValue:function(t){this.setValue(t,t._c.getDate())}},function(){for(var t in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.calendar[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.calendar.doAttachChangeLS=dhtmlXForm.prototype.items.select.doAttachChangeLS,dhtmlXForm.prototype.items.calendar.d2=dhtmlXForm.prototype.items.input.destruct,dhtmlXForm.prototype.getCalendar=function(t){return this.doWithItem(t,"getCalendar")},dhtmlXForm.prototype.setCalendarDateFormat=function(t,e,i){this.doWithItem(t,"setDateFormat",e,i)},dhtmlXForm.prototype.items.btn2state={setChecked:function(t,e){t._checked=e===!0?!0:!1,t.childNodes[t._ll?1:0].lastChild.className="dhxform_img "+t._cssName+"_"+(t._checked?"1":"0"),this.doCheckValue(t)}},function(){for(var t in dhtmlXForm.prototype.items.checkbox)dhtmlXForm.prototype.items.btn2state[t]||(dhtmlXForm.prototype.items.btn2state[t]=dhtmlXForm.prototype.items.checkbox[t])}(),dhtmlXForm.prototype.items.btn2state.render2=dhtmlXForm.prototype.items.btn2state.render,dhtmlXForm.prototype.items.btn2state.render=function(t,e){return e._autoInputWidth=!1,this.render2(t,e),t._type="btn2state",t._cssName=void 0===e.cssName?"btn2state":e.cssName,t._updateImgNode=function(){},t._doOnFocus=function(){t.getForm().callEvent("onFocus",[t._idd])},t._doOnBlur=function(){t.getForm().callEvent("onBlur",[t._idd])},t._doOnKeyUpDown=function(t,e){this.callEvent(t,[this.childNodes[this._ll?0:1].childNodes[0],e,this._idd])},this.setChecked(t,t._checked),this},dhtmlXForm.prototype.setFormData_btn2state=function(t,e){this[1==e||1==parseInt(e)||"true"==e||e==this.getItemValue(t)?"checkItem":"uncheckItem"](t)},dhtmlXForm.prototype.getFormData_btn2state=function(t){return this.isItemChecked(t)?this.getItemValue(t):0},dhtmlXForm.prototype.items.colorpicker={colorpicker:{},render:function(t,e){var i=this;t._type="colorpicker",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea"),t._value=e.value||"",t.childNodes[t._ll?1:0].childNodes[0].value=t._value;var n={input:t.childNodes[t._ll?1:0].childNodes[0],custom_colors:1==window.dhx4.s2b(e.enableCustomColors),skin:t.getForm().skin};return this.colorpicker[t._idd]=new dhtmlXColorPicker(n),this.colorpicker[t._idd]._nodes[0].valueColor=null,this.colorpicker[t._idd].base.className+=" dhtmlxcp_in_form",void 0!==e.customColors&&this.colorpicker[t._idd].setCustomColors(e.customColors),"string"==typeof e.cpPosition&&this.colorpicker[t._idd].setPosition(e.cpPosition),this.colorpicker[t._idd].attachEvent("onSelect",function(e){if(t._value!=e){if(t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,e])!==!0)return void(t.childNodes[t._ll?1:0].childNodes[0].value=t._value);t._value=e,i.setValue(t,e),t.callEvent("onChange",[t._idd,t._value])}}),this.colorpicker[t._idd].attachEvent("onHide",function(){var e=t.childNodes[t._ll?1:0].childNodes[0];e.value!=t._value&&(e.value=t._value),e=null}),t.childNodes[t._ll?1:0].childNodes[0]._idd=t._idd,this},getColorPicker:function(t){return this.colorpicker[t._idd]},destruct:function(t){this.colorpicker[t._idd].unload&&this.colorpicker[t._idd].unload(),this.colorpicker[t._idd]=null;try{delete this.colorpicker[t._idd]}catch(e){}t.childNodes[t._ll?1:0].childNodes[0]._idd=null,this.d2(t),t=null},setSkin:function(t,e){this.colorpicker[t._idd].setSkin(e)}},function(){for(var t in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setValue:1,getValue:1,updateValue:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.colorpicker[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.colorpicker.d2=dhtmlXForm.prototype.items.input.destruct,dhtmlXForm.prototype.getColorPicker=function(t){return this.doWithItem(t,"getColorPicker")},dhtmlXForm.prototype.items.container={render:function(t,e){return t._type="container",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"DIV",null,!0,!0,"dhxform_container"),this},getContainer:function(t){return t.childNodes[t._ll?1:0].childNodes[0]},enable:function(t){t._enabled=!0,(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t.callEvent("onEnable",[t._idd])},disable:function(t){t._enabled=!1,(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t.callEvent("onDisable",[t._idd])},doAttachEvents:function(){},setValue:function(){},getValue:function(){return null}},dhtmlXForm.prototype.getContainer=function(t){return this.doWithItem(t,"getContainer")},function(){for(var t in dhtmlXForm.prototype.items.input)dhtmlXForm.prototype.items.container[t]||(dhtmlXForm.prototype.items.container[t]=dhtmlXForm.prototype.items.input[t])}(),dhtmlXForm.prototype.items.editor={editor:{},render:function(t,e){!isNaN(e.rows);t._type="editor",t._enabled=!0,t._editor_id=t.getForm().idPrefix+t._idd,this.doAddLabel(t,e),this.doAddInput(t,e,"DIV",null,!0,!0,"dhxform_item_template"),t._value=e.value||"";var i=this;return this.editor[t._editor_id]=new dhtmlXEditor({parent:t.childNodes[t._ll?1:0].childNodes[0],content:t._value,iconsPath:e.iconsPath,toolbar:e.toolbar}),this.editor[t._editor_id].attachEvent("onAccess",function(e,n){if(t.callEvent("_onBeforeEditorAccess",[]),_dhxForm_doClick(document.body,"click"),"blur"==e){if(i.doOnBlur(t,this),t.callEvent("onBlur",[t._idd]),1=={dhx_terrace:1,material:1}[t.getForm().skin]){var o=t.childNodes[t._ll?1:0].className;o.indexOf("dhxeditor_focus")<0||(t.childNodes[t._ll?1:0].className=o.replace(/\s{0,}dhxeditor_focus/gi,""))}}else if(t.callEvent("onEditorAccess",[t._idd,e,n,this,t.getForm()]),t.callEvent("onFocus",[t._idd]),1=={dhx_terrace:1,material:1}[t.getForm().skin]){var o=t.childNodes[t._ll?1:0].className;-1==o.indexOf("dhxeditor_focus")&&(t.childNodes[t._ll?1:0].className+=" dhxeditor_focus")}}),this.editor[t._editor_id].attachEvent("onToolbarClick",function(e){t.callEvent("onEditorToolbarClick",[t._idd,e,this,t.getForm()])}),e.readonly&&this.setReadonly(t,!0),t.childNodes[t._ll?0:1].childNodes[0].removeAttribute("for"),t.childNodes[t._ll?0:1].childNodes[0].onclick=function(){i.editor[t._editor_id]._focus()},this},doOnBlur:function(t,e){var i=e.getContent();if(t._value!=i){if(t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,i])!==!0)return void e.setContent(t._value);t._value=i,t.callEvent("onChange",[t._idd,i])}},setValue:function(t,e){t._value!=e&&(t._value=e,this.editor[t._editor_id].setContent(t._value))},getValue:function(t){return t._value=this.editor[t._editor_id].getContent(),t._value},enable:function(t){1!=this.isEnabled(t)&&(this.editor[t._editor_id].setReadonly(!1),this.doEn(t))},disable:function(t){1==this.isEnabled(t)&&(this.editor[t._editor_id].setReadonly(!0),this.doDis(t))},setReadonly:function(t,e){this.editor[t._editor_id].setReadonly(e)},getEditor:function(t){return this.editor[t._editor_id]||null},destruct:function(t){t.childNodes[t._ll?0:1].childNodes[0].onclick=null,this.editor[t._editor_id].unload(),this.editor[t._editor_id]=null,this.d2(t),t=null},setFocus:function(t){this.editor[t._editor_id]._focus()}},function(){for(var t in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,setWidth:1,isEnabled:1})dhtmlXForm.prototype.items.editor[t]=dhtmlXForm.prototype.items.template[t]}(),dhtmlXForm.prototype.items.editor.d2=dhtmlXForm.prototype.items.select.destruct,dhtmlXForm.prototype.items.editor.doEn=dhtmlXForm.prototype.items.select.enable,dhtmlXForm.prototype.items.editor.doDis=dhtmlXForm.prototype.items.select.disable,dhtmlXForm.prototype.getEditor=function(t){return this.doWithItem(t,"getEditor")},dhtmlXForm.prototype.items.image={_dimFix:!0,render:function(t,e){t._type="image",t._enabled=!0,t._fr_name="dhxform_image_"+window.dhx4.newId(),t._url=void 0===e.url||null==e.url?"":e.url,"auto"==e.inputWidth&&(e.inputWidth=120),"auto"==e.inputHeight&&(e.inputHeight=e.inputWidth),this.doAddLabel(t,e),this.doAddInput(t,e,"DIV",null,!0,!0,"dhxform_image");var i=t.childNodes[t._ll?1:0].childNodes[0];i.style.height=parseInt(i.style.height)-dhtmlXForm.prototype.items[this.t]._dim+"px";var n=void 0!==e.imageWidth?parseInt(e.imageWidth):e.inputWidth,o=void 0!==e.imageHeight?parseInt(e.imageHeight):e.inputHeight;"auto"==o&&(o=n),t._dim={mw:e.inputWidth-this._dim,mh:e.inputHeight-this._dim,w:n,h:o},i.innerHTML="<img class='dhxform_image_img' border='0' style='visibility:hidden;'><iframe name='"+t._fr_name+"' style='position: absolute; width:0px; height:0px; top:-10px; left:-10px;' frameBorder='0' border='0'></iframe><div class='dhxform_image_wrap'><form action='"+t._url+"' method='POST' enctype='multipart/form-data' target='"+t._fr_name+"' class='dhxform_image_form'><input type='hidden' name='action' value='uploadImage'><input type='hidden' name='itemId' value='"+t._idd+"'><input type='file' name='file' class='dhxform_image_input'></form>",this.adjustImage(t),i.childNodes[2].firstChild.lastChild.onchange=function(){t._is_uploading=!0,this.parentNode.submit(),this.parentNode.parentNode.className="dhxform_image_wrap dhxform_image_in_progress",this.value=""};var l=this;return window.navigator.userAgent.indexOf("MSIE")<0?i.childNodes[1].onload=function(){l.doOnUpload(t)}:i.childNodes[1].onreadystatechange=function(){"complete"==this.readyState&&l.doOnUpload(t)},this._moreClear=function(){l=null},this.setValue(t,e.value||""),i=null,this},destruct:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0];e.childNodes[2].firstChild.lastChild.onchange=null,e.childNodes[1].onreadystatechange=null,e.childNodes[1].onload=null,this._moreClear(),this.d2(t),t=null},doAttachEvents:function(){},setValue:function(t,e){t._value=null==e?"":e;var i=t._url+(t._url.indexOf("?")<0?"?":"&")+"action=loadImage&itemId="+encodeURIComponent(t._idd)+"&itemValue="+encodeURIComponent(t._value)+window.dhx4.ajax._dhxr("&"),n=t.childNodes[t._ll?1:0].childNodes[0].firstChild;if("img"==n.nextSibling.tagName.toLowerCase())n.nextSibling.src=i;else{var o=document.createElement("IMG");o.className="dhxform_image_img",o.style.visibility="hidden",o.onload=function(){this.style.visibility="visible",this.parentNode.removeChild(this.nextSibling),this.onload=this.onerror=null},o.onerror=function(){this.onload.apply(this,arguments),this.style.visibility="hidden"},n.parentNode.insertBefore(o,n),o.src=i,o=null,this.adjustImage(t)}n=null},getValue:function(t){return t._value},doOnUpload:function(t){if(1==t._is_uploading){var e=t.childNodes[t._ll?1:0].childNodes[0].lastChild.previousSibling,i=dhx4.s2j(e.contentWindow.document.body.innerHTML);"object"==typeof i&&null!=i&&1==i.state&&i.itemId==t._idd?(this.setValue(t,i.itemValue,!0),t.getForm().callEvent("onImageUploadSuccess",[i.itemId,i.itemVaule,i.extra])):t.getForm().callEvent("onImageUploadFail",[t._idd,i?i.extra:null]),i=e=null,window.setTimeout(function(){t.childNodes[t._ll?1:0].childNodes[0].lastChild.className="dhxform_image_wrap",t._is_uploading=!1},50)}},adjustImage:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0].firstChild,i=Math.min(t._dim.mw,t._dim.w),n=Math.min(t._dim.mh,t._dim.h);e.style.width=i+"px",e.style.height=n+"px",e.style.marginLeft=Math.max(0,Math.round(t._dim.mw/2-i/2))+"px",e.style.marginTop=Math.max(0,Math.round(t._dim.mh/2-n/2))+"px",e=t=null}},function(){for(var t in dhtmlXForm.prototype.items.input)dhtmlXForm.prototype.items.image[t]||(dhtmlXForm.prototype.items.image[t]=dhtmlXForm.prototype.items.input[t])}(),dhtmlXForm.prototype.items.image.d2=dhtmlXForm.prototype.items.input.destruct,dhtmlXForm.prototype.setFormData_image=function(t,e){this.setItemValue(t,e)},dhtmlXForm.prototype.getFormData_image=function(t){return this.getItemValue(t)},dhtmlXForm.prototype.items.upload={render:function(t,e){t._type="up",t._enabled=!0,t._checked=!0,t.className=e.position+("string"==typeof e.className?" "+e.className:"");var i=document.createElement("DIV");return t.appendChild(i),isNaN(e.inputLeft)||(t.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.style.top=parseInt(e.inputTop)+"px"),"auto"!=e.inputWidth&&(isNaN(e.inputWidth)||(i.style.width=parseInt(e.inputWidth)+"px")),t._uploader=new dhtmlXFileUploader(i,e.swfPath||"",e.swfUrl||"",e.mode||null,e.swfLogs,e.slXap||"",e.slUrl||"",e.slLogs||"",e.multiple),t._uploader.setURL(e.url||""),t._uploader.callEvent=t.callEvent,void 0!==e.autoStart&&t._uploader.setAutoStart(e.autoStart),void 0!==e.autoRemove&&t._uploader.setAutoRemove(e.autoRemove),void 0!==e.titleScreen&&t._uploader.enableTitleScreen(e.titleScreen),void 0!==e.titleText&&t._uploader.setTitleText(e.titleText),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),"auto"!=e.inputHeight&&0/0!=parseInt(e.inputHeight)&&(t._uploader.p_files.style.height=parseInt(e.inputHeight)+"px"),this},destruct:function(t){for(this.doUnloadNestedLists(t),t._uploader.callEvent=function(){return!0
},t._uploader.unload(),t._uploader.callEvent=null,t._uploader=null,t._checked=null,t._enabled=null,t._idd=null,t._type=null,t.onselectstart=null,t._autoCheck=null,t.callEvent=null,t.checkEvent=null,t.getForm=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},setText:function(){},getText:function(){},enable:function(t){t._enabled=!0,(t.className+"").search("disabled")<0||(t.className=(t.className+"").replace(/disabled/gi,"")),t._uploader.enable()},disable:function(t){t._enabled=!1,(t.className+"").search("disabled")<0&&(t.className+=" disabled"),t._uploader.disable()},setWidth:function(t,e){t.childNodes[0].style.width=e+"px",t._width=e},getWidth:function(t){return t._width||parseInt(t.childNodes[0].style.width)},setValue:function(t){t._uploader.clear()},getValue:function(t){var e=t._uploader.getData(),i={},n=0;for(var o in e)i[t._idd+"_r_"+n]=e[o].realName,i[t._idd+"_s_"+n]=e[o].serverName,n++;return i[t._idd+"_count"]=n,i},getUploader:function(t){return t._uploader},getStatus:function(t){return t._uploader.getStatus()}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.upload[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.setFormData_upload=function(t){this.doWithItem(t,"setValue")},dhtmlXForm.prototype.getUploader=function(t){return this.doWithItem(t,"getUploader")},dhtmlXForm.prototype.getUploaderStatus=function(t){return this.doWithItem(t,"getStatus")},dhtmlXFileUploader.prototype.html5=function(){},dhtmlXFileUploader.prototype.html5.prototype={_initEngine:function(){var t=this;this.buttons.browse.onclick=function(){t._enabled&&t.f.click()},this._progress_type="percentage";var e=window.navigator.userAgent;null!=e.match(/Windows/gi)&&null!=e.match(/AppleWebKit/gi)&&null!=e.match(/Safari/gi)&&(e.match(/Version\/5\.1\.5/gi)&&(this._upload_mp=!1),e.match(/Version\/5\.1[^\.\d{1,}]/gi)&&(this._upload_dnd=!1),e.match(/Version\/5\.1\.1/gi)&&(this._upload_mp=!1,this._upload_dnd=!1),e.match(/Version\/5\.1\.2/gi)&&(this._upload_dnd=!1),e.match(/Version\/5\.1\.7/gi)&&(this._upload_mp=!1)),this._addFileInput(),this._upload_dnd?(this.p.ondragenter=function(t){t.dataTransfer&&(t.stopPropagation(),t.preventDefault())},this.p.ondragover=function(t){t.dataTransfer&&(t.stopPropagation(),t.preventDefault())},this.p.ondrop=function(e){e.dataTransfer&&(e.stopPropagation(),e.preventDefault(),t._enabled&&t._parseFilesInInput(e.dataTransfer.files))},this._titleText="Drag-n-Drop files here or<br>click to select files for upload."):this._titleText="Click to select files for upload."},_addFileInput:function(){null!=this.f&&(this.f.onchange=null,this.f.parentNode.removeChild(this.f),this.f=null);var t=this;this.f=document.createElement("INPUT"),this.f.type="file",this._upload_mp&&(this.f.multiple="1"),this.f.className="dhx_uploader_input",this.p_controls.appendChild(this.f),this.f.onchange=function(){t._parseFilesInInput(this.files),window.dhx4.isOpera?t._addFileInput():this.value=""}},_doUploadFile:function(t){var e=this;this._loader||(this._loader=new XMLHttpRequest,this._loader.upload.onprogress=function(t){"uploading"==e._files[this._idd].state&&e._updateFileInList(this._idd,"uploading",Math.round(100*t.loaded/t.total))},this._loader.onload=function(){var t=dhx4.s2j(this.responseText);"object"==typeof t&&null!=t&&void 0!==t.state&&1==t.state?(e._onUploadSuccess(this.upload._idd,t.name,null,t.extra),t=null):e._onUploadFail(this.upload._idd,null!=t&&null!=t.extra?t.extra:null)},this._loader.onerror=function(){e._onUploadFail(this.upload._idd)},this._loader.onabort=function(){e._onUploadAbort(this.upload._idd)}),this._loader.upload._idd=t;var i=new FormData;i.append("file",this._files[t].file),this._loader.open("POST",this._url+((this._url+"").indexOf("?")<0?"?":"&")+"mode=html5"+window.dhx4.ajax._dhxr("&"),!0),this._loader.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._loader.send(i)},_uploadStop:function(){this._uploading&&this._loader&&this._loader.abort()},_parseFilesInInput:function(t){for(var e=0;e<t.length;e++)this._addFileToQueue(t[e])},_addFileToQueue:function(t){if(this._beforeAddFileToList(t.name,t.size)){var e=t._idd||window.dhx4.newId();this._files[e]={file:t,name:t.name,size:t.size,state:"added"},this._addFileToList(e,t.name,t.size,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)}},_removeFileFromQueue:function(t){if(this._files[t]){var e=this._files[t].name,i=null!=this._data&&null!=this._data[t]?this._data[t].serverName:null;if(this.callEvent("onBeforeFileRemove",[e,i])===!0){var n=!1;this._uploading&&t==this._loader.upload._idd&&"uploading"==this._files[t].state&&(this._uploadStop(),n=!0),this._files[t].file=null,this._files[t].name=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),this.callEvent("onFileRemove",[e,i]),n&&this._uploadStart()}}},_unloadEngine:function(){this.buttons.browse.onclick=null,this.f.onchange=null,this.f.parentNode.removeChild(this.f),this.f=null,this.p.ondragenter=null,this.p.ondragover=null,this.p.ondrop=null,this._loader&&(this._loader.upload.onprogress=null,this._loader.onload=null,this._loader.onerror=null,this._loader.onabort=null,this._loader.upload._idd=null,this._loader=null),this._initEngine=null,this._doUploadFile=null,this._uploadStop=null,this._parseFilesInInput=null,this._addFileToQueue=null,this._removeFileFromQueue=null,this._unloadEngine=null}},dhtmlXFileUploader.prototype.html4=function(){},dhtmlXFileUploader.prototype.html4.prototype={_initEngine:function(){this._addForm(),this._progress_type="loader",this._titleText="Click button<br>to select files for upload."},_addForm:function(){var t=this,e=window.dhx4.newId();this.k||(this.k=document.createElement("DIV"),this.k.className="dhx_file_form_cont",this.buttons.browse.appendChild(this.k),this.fr_name="dhx_file_"+window.dhx4.newId(),this.k.innerHTML='<iframe name="'+this.fr_name+'" style="height:0px;width:0px;" frameBorder="0"></iframe>',this.fr=this.k.firstChild,window.navigator.userAgent.indexOf("MSIE")<0?this.fr.onload=function(){t._onLoad()}:this.fr.onreadystatechange=function(){"complete"==this.readyState&&t._onLoad()});var i=document.createElement("DIV");i.innerHTML="<form method='POST' enctype='multipart/form-data' target='"+this.fr_name+"' class='dhx_file_form' name='dhx_file_form_"+window.dhx4.newId()+"'><input type='hidden' name='mode' value='html4'><input type='hidden' name='uid' value='"+e+"'><input type='file' name='file' class='dhx_file_input'></form>",this.k.appendChild(i),i.firstChild.lastChild._idd=e,i.firstChild.lastChild.onchange=function(){t._beforeAddFileToList(this.value,null)&&(t._addFileToQueue(this),this.onchange=null,this.parentNode.parentNode.style.display="none",t._addForm())},i=null},_onLoad:function(){if(this._uploading){var t=dhx4.s2j(this.fr.contentWindow.document.body.innerHTML);if("object"==typeof t&&null!=t&&void 0!==t.state){if("cancelled"==t.state)return this._onUploadAbort(this.fr._idd),void(t=null);if(1==t.state)return void 0===t.size||isNaN(t.size)||(this._files[this.fr._idd].size=t.size),this._onUploadSuccess(this.fr._idd,t.name,null,t.extra),void(t=null)}this._onUploadFail(this.fr._idd,null!=t&&null!=t.extra?t.extra:null)}},_addFileToQueue:function(t){var e=t.value.match(/[^\\\/]*$/g);e=null!=e[0]?e[0]:t.value,this._files[t._idd]={name:e,form:t.parentNode,node:t.parentNode.parentNode,input:t,state:"added"},this._addFileToList(t._idd,t.value,!1,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(t){var e=this._files[t].name,i=null!=this._data&&null!=this._data[t]?this._data[t].serverName:null;this.callEvent("onBeforeFileRemove",[e,i])===!0&&(this._files[t].input.onchange=null,this._files[t].form.removeChild(this._files[t].input),this._files[t].node.removeChild(this._files[t].form),this._files[t].node.parentNode.removeChild(this._files[t].node),this._files[t].input=null,this._files[t].name=null,this._files[t].form=null,this._files[t].node=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),this.callEvent("onFileRemove",[e,i]))},_doUploadFile:function(t){this.fr._idd=t,this._files[t].form.action=this._url,this._files[t].form.submit()},_uploadStop:function(){this._uploading&&(this.fr.contentWindow.location.href=this._url+(this._url.indexOf("?")<0?"?":"&")+"mode=html4&action=cancel"+window.dhx4.ajax._dhxr("&"))},_unloadEngine:function(){this.k&&(this.fr_name=null,this.fr.onreadystatechange=null,this.fr.onload=null,this.fr.parentNode.removeChild(this.fr),this.fr=null,this.k.firstChild.firstChild.lastChild.onchange=null,this.k.parentNode.removeChild(this.k),this.k=null),this._initEngine=null,this._addForm=null,this._onLoad=null,this._addFileToQueue=null,this._removeFileFromQueue=null,this._doUploadFile=null,this._uploadStop=null,this._unloadEngine=null}},dhtmlXFileUploader.prototype.flash=function(){},dhtmlXFileUploader.prototype.flash.prototype={_initEngine:function(){null==window.dhtmlXSWFObjectsPull&&(window.dhtmlXSWFObjectsPull={items:{},callEvent:function(t,e,i){return window.dhtmlXSWFObjectsPull.items[t].uploader[e].apply(window.dhtmlXSWFObjectsPull.items[t].uploader,i)}});this._swf_obj_id="dhtmlXFileUploaderSWFObject_"+window.dhx4.newId(),this._swf_file_url=this._swf_file_url+window.dhx4.ajax._dhxr(this._swf_file_url),this.buttons.browse.innerHTML="<div id='"+this._swf_obj_id+"' style='width:100%;height:100%;'></div>",swfobject.embedSWF(this._swf_file_url,this._swf_obj_id,"100%","100%","9",null,{ID:this._swf_obj_id,enableLogs:this._swf_logs},{wmode:"transparent"});var t=swfobject.getFlashPlayerVersion();this._titleText="Engine successfuly inited<br>Flash Player: "+t.major+"."+t.minor+"."+t.release,this._progress_type="percentage",window.dhtmlXSWFObjectsPull.items[this._swf_obj_id]={id:this._swf_obj_id,uploader:this}},_beforeAddFileToQueue:function(t,e){return this.callEvent("onBeforeFileAdd",[t,e])===!0},_addFileToQueue:function(t,e,i){if(window.dhx4.isIE){var n=document.createElement("INPUT");n.type="TEXT",n.style.position="absolute",n.style.left="0px",n.style.top=window.dhx4.absTop(this.buttons.browse)+"px",n.style.width="10px",document.body.appendChild(n),n.focus(),document.body.removeChild(n),n=null}this._files[t]={name:e,size:i,state:"added"},this._addFileToList(t,e,i,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(t){if(this._files[t]){var e=this._files[t].name,i=null!=this._data&&null!=this._data[t]?this._data[t].serverName:null;if(this.callEvent("onBeforeFileRemove",[e,i])===!0){var n=!1;this._uploading&&"uploading"==this._files[t].state&&(this._uploadStop(),n=!0),swfobject.getObjectById(this._swf_obj_id).removeFileById(t),this._files[t].name=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),this.callEvent("onFileRemove",[e,i]),n&&this._uploadStart()}}},_doUploadFile:function(t){swfobject.getObjectById(this._swf_obj_id).upload(t,this._swf_upolad_url)},_uploadStop:function(){for(var t in this._files)"uploading"==this._files[t].state&&swfobject.getObjectById(this._swf_obj_id).uploadStop(t)},_unloadEngine:function(){window.dhtmlXSWFObjectsPull.items[this._swf_obj_id]&&(window.dhtmlXSWFObjectsPull.items[this._swf_obj_id].id=null,window.dhtmlXSWFObjectsPull.items[this._swf_obj_id].uploader=null,window.dhtmlXSWFObjectsPull.items[this._swf_obj_id]=null,delete window.dhtmlXSWFObjectsPull.items[this._swf_obj_id]),this._swf_obj_id=null,this._initEngine=null,this._addFileToQueue=null,this._removeFileFromQueue=null,this._doUploadFile=null,this._uploadStop=null,this._unloadEngine=null}},dhtmlXFileUploader.prototype.sl=function(){},dhtmlXFileUploader.prototype.sl.prototype={_initEngine:function(){void 0===this._sl_v&&(this._sl_v=this.getSLVersion()),window.dhtmlXFileUploaderSLObjects||(window.dhtmlXFileUploaderSLObjects={items:{},callEvent:function(t,e,i){window.dhtmlXFileUploaderSLObjects.items[t].uploader[e].apply(window.dhtmlXFileUploaderSLObjects.items[t].uploader,i)}}),this._sl_obj_id="dhtmlXFileUploaderSLObject_"+window.dhx4.newId(),0!=this._sl_v?(this._titleText="Engine successfuly inited<br>Silverlight version: "+this._sl_v[0]+"."+this._sl_v[1],this.buttons.browse.innerHTML='<div style="width:100%;height:100%;"><object data="data:application/x-silverlight-2," type="application/x-silverlight-2" width="100%" height="100%" id="'+this._sl_obj_id+'"><param name="source" value="'+this._sl_xap+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="initParams" value="SLID='+this._sl_obj_id+",LOGS="+this._sl_logs+'"/><param name="minRuntimeVersion" value="5.0"/></object></div>'):(this._titleText="Silverlight plugin not found<br>or version less than 4.0",this.buttons.browse.style.cursor="wait",this.buttons.browse.title=""),this._progress_type="percentage",window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]={id:this._sl_obj_id,uploader:this}},_addFileToQueue:function(t,e,i){this._files[t]={name:e,size:i,state:"added"},this._addFileToList(t,e,i,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(t){if(this._files[t]){var e=!1;this._uploading&&"uploading"==this._files[t].state&&(this._uploadStop(),e=!0),document.getElementById([this._sl_obj_id]).Content.a.removeFileById(t),this._files[t].name=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),e&&this._uploadStart()}},_doUploadFile:function(t){var e=this._sl_upload_url.split("?");e=null!=e[1]?"&"+e[1]:"",document.getElementById(this._sl_obj_id).Content.a.upload(t,this._sl_upload_url,e+"&mode=sl"+window.dhx4.ajax._dhxr("&"))},_uploadStop:function(){this._uploading=!1;for(var t in this._files)"uploading"==this._files[t].state&&document.getElementById(this._sl_obj_id).Content.a.uploadStop(t)},_unloadEngine:function(){window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]&&(window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].id=null,window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].uploader=null,window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]=null,delete window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]),this._sl_obj_id=null,this._initEngine=null,this._addFileToQueue=null,this._removeFileFromQueue=null,this._doUploadFile=null,this._uploadStop=null,this._unloadEngine=null}},dhtmlXFileUploader.prototype.setSLURL=function(t){this._sl_upload_url=t},dhtmlXFileUploader.prototype.getSLVersion=function(){var t=!1;if(window.dhx4.isIE)try{var e=new ActiveXObject("AgControl.AgControl");if(null!=e)for(var i=4,n=0;e.isVersionSupported([i,n].join("."));)t=[i,n],++n>9&&(i++,n=0);e=null}catch(o){}else null!=navigator.plugins["Silverlight Plug-In"]&&(t=navigator.plugins["Silverlight Plug-In"].description.split("."));return t},dhtmlXForm.prototype.saveBackup=function(){return this._backup||(this._backup={},this._backupId=(new Date).getTime()),this._backup[++this._backupId]=this.getFormData(),this._backupId},dhtmlXForm.prototype.restoreBackup=function(t){null!=this._backup&&null!=this._backup[t]&&this.setFormData(this._backup[t])},dhtmlXForm.prototype.clearBackup=function(t){null!=this._backup&&null!=this._backup[t]&&(this._backup[t]=null,delete this._backup[t])},dhtmlXForm.prototype.addItem=function(t,e,i,n){var o=null;t instanceof Array&&(o=t[1],t=t[0]);var l=null;if(null!=t){var l=this._getParentForm(t,o);if(null!=l)return null==l.item._list?(e.listParent||(e.listParent=l.item._idd),l.form._addItem("list",l.item._idd,[e],null,l.item._idd,i,n)):l.item._list[0].addItem(null,e,i,n),l.form=l.item=null,l=null,void this._autoCheck()}this._prepareItem(e,i,n),this._autoCheck()},dhtmlXForm.prototype.removeItem=function(t,e){this._removeItem(t,e)},dhtmlXForm.prototype.removeColumn=function(t,e,i,n){var o=null;if(t instanceof Array&&(o=t[1],t=t[0]),null!=t){var l=this._getParentForm(t,o);return void(null!=l&&(null!=l.item._list&&null!=l.item._list[0]&&l.item._list[0].removeColumn(null,e,i,n),l.form=l.item=null,l=null))}if(e=Math.min(Math.max(e,0),this.cont.childNodes.length-1),1==this.cont.childNodes.length)1==i&&this._removeItemsInColumn(this.cont.childNodes[e]);else{if(1==i)this._removeItemsInColumn(this.cont.childNodes[e]);else{if(n){var s=e+1;s>this.cont.childNodes.length-1&&(s=e-1)}else{var s=e-1;0>s&&(s=e+1)}for(;this.cont.childNodes[e].childNodes.length>0;)this.cont.childNodes[s].appendChild(this.cont.childNodes[e].childNodes[0])}for(var d=[],a=0;a<this.base.length;a++)this.cont.childNodes[e]!=this.base[a]&&d.push(this.base[a]);this.base=d,this.cont.removeChild(this.cont.childNodes[e]),this.b_index--,d=null}},dhtmlXForm.prototype.getColumnNode=function(t,e){var i=null,n=null;if(t instanceof Array&&(n=t[1],t=t[0]),null!=t){var o=this._getParentForm(t,n);return null!=o&&(null!=o.item._list&&null!=o.item._list[0]&&null==i&&(i=o.item._list[0].getColumnNode(null,e)),o.form=o.item=null,o=null),i}return 0>e||e>this.cont.childNodes.length-1?null:this.cont.childNodes[e]},dhtmlXForm.prototype._removeItemsInColumn=function(t){for(var e=[],i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];null!=n._idd&&null!=n._type&&e.push([n._idd,"ra"==n._type?n._value:null]),n=null}for(var i=0;i<e.length;i++)this.removeItem(e[i][0],e[i][1])},dhtmlXForm.prototype._getParentForm=function(t,e){if(null!=this.itemPull[this.idPrefix+t])return{form:this,item:this.itemPull[this.idPrefix+t]};for(var i in this.itemPull)if("ra"==this.itemPull[i]._type&&this.itemPull[i]._group==t&&this.itemPull[i]._value==e)return{form:this,item:this.itemPull[i]};var n=null;for(var i in this.itemPull)if(!n&&null!=this.itemPull[i]._list)for(var o=0;o<this.itemPull[i]._list.length;o++)n||(n=this.itemPull[i]._list[o]._getParentForm(t,e));return n},function(){for(var t in dhtmlXForm.prototype.items)dhtmlXForm.prototype.items[t]._getItemNode||(dhtmlXForm.prototype.items[t]._getItemNode=function(t){return t})}(),dhtmlXForm.prototype._getItemNode=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"_getItemNode")},dhtmlXForm.prototype.setRequired=function(t,e,i){void 0===i?i=e:t=[t,e];var n=this._getItemNode(t);if(n){if(i=window.dhx4.s2b(i),n._required=1==i,n._required){n._validate||(n._validate=[]);for(var o=!1,l=0;l<n._validate.length;l++)o="NotEmpty"==n._validate[l]||o;o||n._validate.push("NotEmpty");var s=n.childNodes[n._ll?0:1].childNodes[0];if(!s.lastChild||!s.lastChild.className||s.lastChild.className.search(/required/)<0){var d=document.createElement("SPAN");d.className="dhxform_item_required",d.innerHTML="*",s.appendChild(d),d=s=null}}else{if(null!=n._validate){var o=n._validate;n._validate=[];for(var l=0;l<o.length;l++)"NotEmpty"!=o[l]&&n._validate.push(o[l]);0==n._validate.length&&(n._validate=null)}var s=n.childNodes[n._ll?0:1].childNodes[0];s.lastChild&&s.lastChild.className&&s.lastChild.className.search(/required/)>=0&&(s.removeChild(s.lastChild),s=null)}this._resetValidateCss(n),n=null}},dhtmlXForm.prototype.setNote=function(t,e,i){void 0===i?i=e:t=[t,e];var n=this._getItemNode(t);if(n){var o=this._getNoteNode(n);o||(i.width||(i.width=n.childNodes[n._ll?1:0].childNodes[0].offsetWidth),o=document.createElement("DIV"),o.className="dhxform_note",{ch:1,ra:1}[n._type]?n.childNodes[n._ll?1:0].insertBefore(o,n.childNodes[n._ll?1:0].lastChild):n.childNodes[n._ll?1:0].appendChild(o)),o.innerHTML=i.text,null!=i.width&&(o.style.width=i.width+"px",o._w=i.width),o=null}},dhtmlXForm.prototype.clearNote=function(t,e){void 0!==e&&(t=[t,e]);var i=this._getItemNode(t);if(i){var n=this._getNoteNode(i);null!=n&&(n.parentNode.removeChild(n),n=null)}},dhtmlXForm.prototype._getNoteNode=function(t){for(var e=null,i=0;i<t.childNodes[t._ll?1:0].childNodes.length;i++)(t.childNodes[t._ll?1:0].childNodes[i].className+"").search(/dhxform_note/)<0||(e=t.childNodes[t._ll?1:0].childNodes[i]);return t=null,e},dhtmlXForm.prototype.setValidation=function(t,e,i){"undefined"==typeof note?i=e:t=[t,e];var n=this._getItemNode(t);if(n){if(null!=n._validate)for(var o=0;o<n._validate.length;o++)n._validate[o]=null;if(n._validate=[],n._validate="function"==typeof i||"function"==typeof window[i]?[i]:(i+"").split(this.separator),n._required){for(var l=!1,o=0;o<n._validate.length;o++)l="NotEmpty"==n._validate[o]||l;l||n._validate.push("NotEmpty")}n=null}},dhtmlXForm.prototype.clearValidation=function(t,e){void 0!==e&&(t=[t,e]);var i=this._getItemNode(t);if(i){if(null!=i._validate)for(var n=0;n<i._validate.length;n++)i._validate[n]=null;i._validate=i._required?["NotEmpty"]:null,i=null}},dhtmlXForm.prototype.reloadOptions=function(t,e){var i=this.getItemType(t);if({select:1,multiselect:1,combo:1}[i]){if("select"==i||"multiselect"==i){for(var n=this.getOptions(t);n.length>0;)n.remove(0);n.length=0,n=null,"string"==typeof e?this.doWithItem(t,"doLoadOptsConnector",e):e instanceof Array&&this.doWithItem(t,"doLoadOpts",{options:e})}if("combo"==i){var o=this.getCombo(t);if(o.clearAll(),o.setComboValue(""),"string"==typeof e)this.doWithItem(t,"doLoadOptsConnector",e);else if(e instanceof Array){for(var l=null,s=0;s<e.length;s++)window.dhx4.s2b(e[s].selected)&&(l=e[s].value);o.addOption(e),null!=l&&this.setItemValue(t,l),o=null}}}},dhtmlXForm.prototype.setTooltip=function(t,e,i){void 0===i?i=e:t=[t,e];var n=this._getItemNode(t);if(n){var o=null;if(1==n.childNodes.length)o=n.childNodes[0];else for(var l=0;l<n.childNodes.length;l++)null==n.childNodes[l].className||n.childNodes[l].className.search("dhxform_label")<0||(o=n.childNodes[l]);null!=o&&(null==i||0==i.length?o.removeAttribute("title"):o.title=i),o=null}},window.dhtmlx||(window.dhtmlx={}),function(){function t(t,e){var n=t.callback;i(!1),t.box.parentNode.removeChild(t.box),c=t.box=null,n&&n(e)}function e(e){if(c){e=e||event;var i=e.which||event.keyCode;return dhtmlx.message.keyboard&&((13==i||32==i)&&t(c,!0),27==i&&t(c,!1)),e.preventDefault&&e.preventDefault(),!(e.cancelBubble=!0)}}function i(t){i.cover||(i.cover=document.createElement("DIV"),i.cover.onkeydown=e,i.cover.className="dhx_modal_cover",document.body.appendChild(i.cover));document.body.scrollHeight;i.cover.style.display=t?"inline-block":"none"}function n(t,e){return"<div class='dhtmlx_popup_button' result='"+e+"' ><div>"+t+"</div></div>"}function o(t){m.area||(m.area=document.createElement("DIV"),m.area.className="dhtmlx_message_area",m.area.style[m.position]="15px",document.body.appendChild(m.area)),m.hide(t.id);var e=document.createElement("DIV");return e.innerHTML="<div>"+t.text+"</div>",e.className="dhtmlx-info dhtmlx-"+t.type,e.onclick=function(){t&&m.hide(t.id),t=null},"bottom"==m.position&&m.area.firstChild?m.area.insertBefore(e,m.area.firstChild):m.area.appendChild(e),t.expire>0&&(m.timers[t.id]=window.setTimeout(function(){m.hide(t.id)},t.expire)),m.pull[t.id]=e,e=null,t.id}function l(e,i,o){var l=document.createElement("DIV");l.className=" dhtmlx_modal_box dhtmlx-"+e.type,l.setAttribute("dhxbox",1);var s="";if(e.width&&(l.style.width=e.width),e.height&&(l.style.height=e.height),e.title&&(s+='<div class="dhtmlx_popup_title">'+e.title+"</div>"),s+='<div class="dhtmlx_popup_text"><span>'+(e.content?"":e.text)+'</span></div><div  class="dhtmlx_popup_controls">',i&&(s+=n(e.ok||"OK",!0)),o&&(s+=n(e.cancel||"Cancel",!1)),e.buttons)for(var d=0;d<e.buttons.length;d++)s+=n(e.buttons[d],d);if(s+="</div>",l.innerHTML=s,e.content){var a=e.content;"string"==typeof a&&(a=document.getElementById(a)),"none"==a.style.display&&(a.style.display=""),l.childNodes[e.title?1:0].appendChild(a)}return l.onclick=function(i){i=i||event;var n=i.target||i.srcElement;if(n.className||(n=n.parentNode),"dhtmlx_popup_button"==n.className){var o=n.getAttribute("result");o="true"==o||("false"==o?!1:o),t(e,o)}},e.box=l,(i||o)&&(c=e),l}function s(t,n,o){var s=t.tagName?t:l(t,n,o);t.hidden||i(!0),document.body.appendChild(s);var d=t.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-s.offsetWidth)/2)),a=t.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-s.offsetHeight)/2));return s.style.top="top"==t.position?"-3px":a+"px",s.style.left=d+"px",s.onkeydown=e,s.focus(),t.hidden&&dhtmlx.modalbox.hide(s),s}function d(t){return s(t,!0,!1)}function a(t){return s(t,!0,!0)}function r(t){return s(t)}function h(t,e,i){return"object"!=typeof t&&("function"==typeof e&&(i=e,e=""),t={text:t,type:e,callback:i}),t}function u(t,e,i,n){return"object"==typeof t&&t||(t={text:t,type:e,expire:i,id:n}),t.id=t.id||m.uid(),t.expire=t.expire||m.expire,t}var c=null;document.attachEvent?document.attachEvent("onkeydown",e):document.addEventListener("keydown",e,!0),dhtmlx.alert=function(){var t=h.apply(this,arguments);return t.type=t.type||"confirm",d(t)},dhtmlx.confirm=function(){var t=h.apply(this,arguments);return t.type=t.type||"alert",a(t)},dhtmlx.modalbox=function(){var t=h.apply(this,arguments);return t.type=t.type||"alert",r(t)},dhtmlx.modalbox.hide=function(t){for(;t&&t.getAttribute&&!t.getAttribute("dhxbox");)t=t.parentNode;t&&(t.parentNode.removeChild(t),i(!1),c=null)};var m=dhtmlx.message=function(t){t=u.apply(this,arguments),t.type=t.type||"info";var e=t.type.split("-")[0];switch(e){case"alert":return d(t);case"confirm":return a(t);case"modalbox":return r(t);default:return o(t)}};m.seed=(new Date).valueOf(),m.uid=function(){return m.seed++},m.expire=4e3,m.keyboard=!0,m.position="top",m.pull={},m.timers={},m.hideAll=function(){for(var t in m.pull)m.hide(t)},m.hide=function(t){var e=m.pull[t];e&&e.parentNode&&(window.setTimeout(function(){e.parentNode.removeChild(e),e=null},2e3),e.className+=" hidden",m.timers[t]&&window.clearTimeout(m.timers[t]),delete m.pull[t])}}();