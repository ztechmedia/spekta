<?php 
if ((strpos(strtolower($_SERVER['SCRIPT_NAME']), strtolower(basename(__FILE__)))) !== false) { // NOT FALSE if the script"s file name is found in the URL
    header('HTTP/1.0 403 Forbidden');
    die('<h2>Direct access to this page is not allowed.</h2>');
}

$script = <<< "JS"

	function showSuperiorSallary(){var e,t=mainTab.cells("superior_sallary").attachLayout({pattern:"2U",cells:[{id:"a",header:!1},{id:"b",text:"Form Gaji",header:!0,collapse:!0}]}),a=mainTab.cells("superior_sallary").attachToolbar({icon_path:"./public/codebase/icons/",items:[{id:"refresh",text:"Refresh",type:"button",img:"refresh.png"},{id:"edit",text:"Ubah",type:"button",img:"edit.png",img_disabled:"edit_disabled.png"},{id:"searchtext",text:"Cari : ",type:"text"},{id:"search",text:"",type:"buttonInput",width:150}]}),r=mainTab.cells("superior_sallary").attachMenu({icon_path:"./public/codebase/icons/",items:[{id:"update",text:"Update Grid",img:"update.png"}]}),l=t.cells("a").attachStatusBar();function s(){let e=i.getRowsNum();l.setText("Total baris: "+e)}var i=t.cells("a").attachGrid();function n(){sallaryGridDP=new dataProcessor(Sallary("updateSuperSallaryBatch")),sallaryGridDP.setTransactionMode("POST",!0),sallaryGridDP.setUpdateMode("Off"),sallaryGridDP.init(i)}function c(){isLogin(),t.cells("a").progressOn(),i.clearAndLoad(Sallary("superSallaryGrid",{search:a.getValue("search"),lt_rank_id:7}),s)}i.setHeader("No,Nama Karyawan,Gaji Pokok,Total Gaji,Premi Lembur,Jam Lembur,Jabatan,Sub Unit,Bagian,Sub Bagian,Created By,Updated By,DiBuat"),i.attachHeader("#rspan,#text_filter,#text_filter,#text_filter,#text_filter,#select_filter,#select_filter,#select_filter,#select_filter,#select_filter,#text_filter,#text_filter,#text_filter"),i.setColSorting("str,str,str,str,str,str,str,str,str,str,str,str,str"),i.setColTypes("rotxt,rotxt,edn,ron,edn,rotxt,rotxt,rotxt,rotxt,rotxt,rotxt,rotxt,rotxt"),i.setColAlign("center,left,left,left,left,left,left,left,left,left,left,left,left"),i.setInitWidthsP("5,25,20,20,20,20,20,20,20,35,20,20,25"),i.enableSmartRendering(!0),i.setEditable(!0),i.attachEvent("onXLE",(function(){t.cells("a").progressOff()})),i.setNumberFormat("0,000",2,".",","),i.setNumberFormat("0,000",3,".",","),i.setNumberFormat("0,000",4,".",","),i.init(),isGridNumeric(i,[3,4]),n(),c(),a.attachEvent("onClick",(function(r){switch(r){case"refresh":a.setValue("search",""),c();break;case"edit":!function(){if(!i.getSelectedRowId())return eAlert("Pilih baris yang akan diupdate!");t.cells("b").expand(),t.cells("b").showView("edit_sallary"),e=t.cells("b").attachForm([{type:"fieldset",offsetTop:30,offsetLeft:30,label:"Update Data Gaji",list:[{type:"hidden",name:"id",label:"Emp ID",readonly:!0},{type:"input",name:"employee_name",label:"Nama Karyawan",labelWidth:130,inputWidth:250,readonly:!0},{type:"input",name:"basic_sallary",label:"Gaji Pokok",labelWidth:130,inputWidth:250,required:!0,validate:"ValidNumeric"},{type:"input",name:"premi_overtime",label:"Premi Lembur",labelWidth:130,inputWidth:250,required:!0,validate:"ValidNumeric"},{type:"block",offsetTop:30,list:[{type:"button",name:"update",className:"button_update",offsetLeft:15,value:"Simpan"},{type:"newcolumn"},{type:"button",name:"cancel",className:"button_no",offsetLeft:30,value:"Cancel"}]}]}]),isFormNumeric(e,["basic_sallary"]),fetchFormData(Sallary("superSallaryForm",{equal_id:i.getSelectedRowId()}),e),e.attachEvent("onButtonClick",(function(a){switch(a){case"update":if(isLogin(),!e.validate())return eAlert("Input error!");setDisable(["update","cancel"],e,t.cells("b"));let a=new dataProcessor(Sallary("updateSuperSallary"));a.init(e),e.save(),a.attachEvent("onAfterUpdate",(function(a,r,l,s){let i=s.getAttribute("message");switch(r){case"updated":sAlert("Berhasil Memperbarui Record <br>"+i),c(),t.cells("b").progressOff(),t.cells("b").collapse(),clearAllForm(e);break;case"error":eAlert("Gagal Memperbarui Record <br>"+i),setEnable(["update","cancel"],e,t.cells("b"))}}));break;case"cancel":c(),clearAllForm(e),t.cells("b").collapse()}}))}()}})),a.attachEvent("onEnter",(function(e){switch(e){case"search":c(),i.attachEvent("onGridReconstructed",s)}})),r.attachEvent("onClick",(function(e){switch(e){case"update":if(!i.getChangedRows())return eAlert("Belum ada row yang di edit!");r.setItemDisabled("update"),t.cells("a").progressOn(),sallaryGridDP.sendData(),sallaryGridDP.attachEvent("onAfterUpdate",(function(e,a,l,s){let i=s.getAttribute("message");switch(a){case"updated":sAlert(i),c(),r.setItemEnabled("update"),t.cells("a").progressOff(),n();break;case"error":eAlert(i),r.setItemEnabled("update"),t.cells("a").progressOff()}}))}}))}

JS;

header('Content-Type: application/javascript');
echo $script;
        